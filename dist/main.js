module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([
/*!*************************************!*\
  !*** ./ts-dist/global.functions.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.GlobalFunctions=class{static getId(){const toReturn=Memory.myMemory.globalId;return Memory.myMemory.globalId++,toReturn}static calcBodyCost(body){return body.reduce(function(cost,part){return cost+BODYPART_COST[part]},0)}static generateBody(baseBody,bodyPartsToAdd,room,useBest){const maxEnergyToUse=useBest?room.energyCapacityAvailable:room.energyAvailable;let body=baseBody;for(;this.calcBodyCost(body)+this.calcBodyCost(bodyPartsToAdd)<=maxEnergyToUse&&body.length+bodyPartsToAdd.length<=50;)body=body.concat(bodyPartsToAdd);return body}static amountOfStructure(room,structureConstant){return room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===structureConstant}).length}static getRoomsFlags(myRoom){const result=[],flagNames=Object.keys(Game.flags);for(let i=0;i<flagNames.length;i++){const flag=Game.flags[flagNames[i]];null!=flag.room&&flag.room.name===myRoom.name&&result.push(flag)}return result}static isConstructable(terrain,roomName,x,y){return!(x<0||x>49||y<0||y>49)&&(terrain.get(x,y)!==TERRAIN_MASK_WALL&&0===new RoomPosition(x,y,roomName).lookFor(LOOK_STRUCTURES).length)}static roomPosToMyPos(roomPos){return{x:roomPos.x,y:roomPos.y,roomName:roomPos.roomName}}static myPosToRoomPos(myPos){return new RoomPosition(myPos.x,myPos.y,myPos.roomName)}static isAllyUsername(username){return-1!==["mooseyman","nimphious","james1652"].indexOf(username.toLowerCase())}static findClosestSpawn(roomPos){let spawnToReturn=null,closestDistance=9999;for(let i=0;i<Memory.myMemory.myRooms.length;i++){const myRoom=Memory.myMemory.myRooms[i];if(myRoom.spawns.length>=1){const distance=Game.map.getRoomLinearDistance(roomPos.roomName,myRoom.name);distance<closestDistance&&(closestDistance=distance,spawnToReturn=Game.spawns[myRoom.spawns[0].name])}}return spawnToReturn}}},
/*!************************************!*\
  !*** ./ts-dist/stage.functions.js ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.StageFunctions=class{static buildExtensions(myRoom,numberOfExtensionsToBuild){const roomFlags=global_functions_1.GlobalFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--)"ex"!==roomFlags[i].name.split("-")[0]&&roomFlags.splice(i,1);for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i],flagNameSplit=roomFlag.name.split("-");Number(flagNameSplit[1])<=numberOfExtensionsToBuild&&(Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_EXTENSION)===OK?(console.log("LOG: Placed extension construction site"),myRoom.myExtensionPositions.push({x:roomFlag.pos.x,y:roomFlag.pos.y,roomName:myRoom.name}),roomFlag.remove()):console.log("ERR: Placing a extension construction site errored"))}0===Game.rooms[myRoom.name].find(FIND_CONSTRUCTION_SITES).length&&console.log("ATTENTION: Room "+myRoom.name+" needs more extension flags")}static buildTowers(myRoom,numberOfTowersToBuild){const roomFlags=global_functions_1.GlobalFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--)"tower"!==roomFlags[i].name.split("-")[0]&&roomFlags.splice(i,1);for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i],flagNameSplit=roomFlag.name.split("-");Number(flagNameSplit[1])<=numberOfTowersToBuild&&(Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_TOWER)===OK?(console.log("LOG: Placed tower construction site"),myRoom.myTowerPositions.push({x:roomFlag.pos.x,y:roomFlag.pos.y,roomName:myRoom.name}),roomFlag.remove()):console.log("ERR: Placing a tower construction site errored"))}}static setupSourceLink(myRoom){const roomFlags=global_functions_1.GlobalFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--){const flagNameSplit=roomFlags[i].name.split("-");"link"===flagNameSplit[0]&&"bank"!==flagNameSplit[1]||roomFlags.splice(i,1)}let placedFully=!1;for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i];if(Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_LINK)===OK){for(let j=0;j<myRoom.mySources.length;j++){const mySource=myRoom.mySources[j],source=Game.getObjectById(mySource.id);null==source?console.log("ERR: Source was null when trying to get it by ID"):source.pos.inRangeTo(roomFlag.pos,2)&&(mySource.link={pos:global_functions_1.GlobalFunctions.roomPosToMyPos(roomFlag.pos),id:null},placedFully=!0)}placedFully?(console.log("LOG: Placed source link construction site"),roomFlag.remove()):console.log("ERR: Placed a construction site at a flag but couldn't find a source to give it to")}else console.log("ERR: Placing a source link construction site errored")}for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(null!=mySource.link&&null==mySource.link.id){const structures=global_functions_1.GlobalFunctions.myPosToRoomPos(mySource.link.pos).lookFor(LOOK_STRUCTURES);for(let j=0;j<structures.length;j++)if(structures[j].structureType===STRUCTURE_LINK){mySource.link.id=structures[j].id,mySource.state="Link";break}}}placedFully||0!==Game.rooms[myRoom.name].find(FIND_CONSTRUCTION_SITES).length||console.log("ATTENTION: Room "+myRoom.name+" needs source link flag (link-X)")}}},
/*!******************************!*\
  !*** ./ts-dist/constants.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Constants{}Constants.AMOUNT_OF_HAULERS_PER_SOURCE=2,Constants.AMOUNT_OF_BANK_ENERGY_TO_SPAWN_LABORER=1e5,Constants.MAX_LABORERS=10,Constants.MIN_LABORERS=2,Constants.LABORERS_BEFORE_BANK=6,exports.Constants=Constants},
/*!*************************!*\
  !*** ./ts-dist/main.js ***!
  \*************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const room_controller_1=__webpack_require__(/*! ./room.controller */4),memory_controller_1=__webpack_require__(/*! ./memory.controller */36),role_claimer_1=__webpack_require__(/*! ./role.claimer */37),live_controller_1=__webpack_require__(/*! ./live.controller */38);console.log("Script reloaded"),null==Memory.myMemory&&(Memory.myMemory={globalId:0,myRooms:[]}),exports.loop=function(){memory_controller_1.MemoryController.run();for(let i=0;i<Memory.myMemory.myRooms.length;i++)room_controller_1.RoomController.run(Memory.myMemory.myRooms[i]);live_controller_1.LiveController.run();for(let i=0;i<Memory.myMemory.myTravelingCreeps.length;i++){const travelingCreep=Memory.myMemory.myTravelingCreeps[i];"Claimer"===travelingCreep.role&&role_claimer_1.RoleClaimer.run(travelingCreep)}memory_controller_1.MemoryController.clearBanks()}},
/*!************************************!*\
  !*** ./ts-dist/room.controller.js ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const room_tower_controller_1=__webpack_require__(/*! ./room.tower.controller */5),role_miner_1=__webpack_require__(/*! ./role.miner */6),role_hauler_1=__webpack_require__(/*! ./role.hauler */7),room_stage_controller_1=__webpack_require__(/*! ./room.stage.controller */8),role_laborer_1=__webpack_require__(/*! ./role.laborer */29),room_spawn_controller_1=__webpack_require__(/*! ./room.spawn.controller */30),role_bankLinker_1=__webpack_require__(/*! ./role.bankLinker */34),room_source_link_1=__webpack_require__(/*! ./room.source.link */35);exports.RoomController=class{static run(myRoom){if(null==Game.rooms[myRoom.name])return void console.log("ERR: No longer have vision of room "+myRoom.name);const room=Game.rooms[myRoom.name];Game.time%10==0&&room_stage_controller_1.RoomStageController.run(myRoom),room_spawn_controller_1.RoomSpawnController.run(myRoom);const towers=room.find(FIND_STRUCTURES,{filter:{structureType:STRUCTURE_TOWER,my:!0}});for(let i=0;i<towers.length;i++)room_tower_controller_1.RoomTowerController.run(towers[i]);for(let i=0;i<myRoom.myCreeps.length;i++){const myCreep=myRoom.myCreeps[i];"Miner"===myCreep.role?role_miner_1.RoleMiner.run(myCreep):"Hauler"===myCreep.role?role_hauler_1.RoleHauler.run(myCreep,myRoom):"Laborer"===myCreep.role?role_laborer_1.RoleLaborer.run(myCreep,myRoom):"BankLinker"===myCreep.role&&role_bankLinker_1.RoleBankLinker.run(myCreep,myRoom)}for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];null!=mySource.link&&room_source_link_1.RoomSourceLink.run(myRoom,mySource.link)}}}},
/*!******************************************!*\
  !*** ./ts-dist/room.tower.controller.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.RoomTowerController=class{static run(tower){const closestDamagedStructure=tower.pos.findClosestByRange(FIND_STRUCTURES,{filter:structure=>structure.hits<structure.hitsMax});if(null!=closestDamagedStructure)return void tower.repair(closestDamagedStructure);const hostileCreeps=tower.room.find(FIND_HOSTILE_CREEPS);if(hostileCreeps.length>=1){for(let i=hostileCreeps.length-1;i>=0;i--){const possibleHostileCreep=hostileCreeps[i];global_functions_1.GlobalFunctions.isAllyUsername(possibleHostileCreep.owner.username)&&hostileCreeps.splice(i,1)}let target=null;for(let i=0;i<hostileCreeps.length;i++){const hostileCreep=hostileCreeps[i];let healer=!1;for(let j=0;j<hostileCreep.body.length;j++)if(hostileCreep.body[j].type===HEAL){healer=!0;break}if(healer){target=hostileCreep;break}null==target&&(target=hostileCreep)}if(null!=target)return void tower.attack(target)}}}},
/*!*******************************!*\
  !*** ./ts-dist/role.miner.js ***!
  \*******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.RoleMiner=class{static run(miner){const creep=Game.creeps[miner.name];if(null==creep)return void console.log("ERR: Miner creep is null. Creep ID: "+miner.name);if(miner.assignedRoomName!==creep.room.name)return creep.say("Fukn Lost"),void creep.moveTo(new RoomPosition(25,25,miner.assignedRoomName));const cachePos=global_functions_1.GlobalFunctions.myPosToRoomPos(miner.cachePosToMineOn);if(cachePos.isEqualTo(creep.pos)){const source=Game.getObjectById(miner.sourceId);if(null==source)return void console.log("ERR: Miner has been given a source which is null. Creep ID: "+miner.name);if(creep.harvest(source),null!=miner.linkIdToDepositTo){const link=Game.getObjectById(miner.linkIdToDepositTo);if(null==link)return miner.linkIdToDepositTo=null,void console.log("ERR: A miner's link ID to deposit in was null");creep.transfer(link,RESOURCE_ENERGY)}}else creep.moveTo(cachePos)}}},
/*!********************************!*\
  !*** ./ts-dist/role.hauler.js ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.RoleHauler=class{static run(hauler,myRoom){const creep=Game.creeps[hauler.name];if(null!=creep){if(hauler.assignedRoomName!==creep.room.name)return creep.say("Fukn Lost"),void creep.moveTo(new RoomPosition(25,25,hauler.assignedRoomName));if(!1===hauler.pickup&&0===creep.carry.energy?(hauler.pickup=!0,creep.say("pickup")):!0===hauler.pickup&&creep.carry.energy===creep.carryCapacity&&(hauler.pickup=!1,creep.say("delivering")),hauler.pickup){const cacheToGrabFromPos=global_functions_1.GlobalFunctions.myPosToRoomPos(hauler.cachePosToPickupFrom);if(cacheToGrabFromPos.isNearTo(creep)){let cacheToGrabFrom=null;const structures=cacheToGrabFromPos.lookFor(LOOK_STRUCTURES);for(let i=0;i<structures.length;i++){const structure=structures[i];structure.structureType===STRUCTURE_CONTAINER&&(cacheToGrabFrom=structure)}if(null==cacheToGrabFrom)return void console.log("ERR: Source cache is null for hauler: "+hauler.name);creep.withdraw(cacheToGrabFrom,RESOURCE_ENERGY)}else creep.moveTo(cacheToGrabFromPos)}else{if(null==myRoom.bankPos)return void console.log("ERR: Room's bank pos was null");const bankPos=global_functions_1.GlobalFunctions.myPosToRoomPos(myRoom.bankPos);if(bankPos.isNearTo(creep)){const bank=myRoom.bank;if(null==bank)return void console.log("ERR: Room's bank was null");creep.transfer(bank,RESOURCE_ENERGY)}else creep.moveTo(bankPos)}}else console.log("ERR: Hauler creep is null. Creep ID: "+hauler.name)}}},
/*!******************************************!*\
  !*** ./ts-dist/room.stage.controller.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const stage_default_1=__webpack_require__(/*! ./stage.default */9),stage_0_1=__webpack_require__(/*! ./stage.0 */10),stage_0_5_1=__webpack_require__(/*! ./stage.0_5 */11),stage_1_1=__webpack_require__(/*! ./stage.1 */12),stage_1_3_1=__webpack_require__(/*! ./stage.1_3 */13),stage_1_6_1=__webpack_require__(/*! ./stage.1_6 */14),stage_2_1=__webpack_require__(/*! ./stage.2 */15),stage_2_3_1=__webpack_require__(/*! ./stage.2_3 */16),stage_2_6_1=__webpack_require__(/*! ./stage.2_6 */17),stage_3_1=__webpack_require__(/*! ./stage.3 */18),stage_3_3_1=__webpack_require__(/*! ./stage.3_3 */19),stage_3_6_1=__webpack_require__(/*! ./stage.3_6 */20),stage_4_1=__webpack_require__(/*! ./stage.4 */21),stage_4_2_1=__webpack_require__(/*! ./stage.4_2 */22),stage_4_4_1=__webpack_require__(/*! ./stage.4_4 */23),stage_4_6_1=__webpack_require__(/*! ./stage.4_6 */24),stage_4_8_1=__webpack_require__(/*! ./stage.4_8 */25),stage_5_1=__webpack_require__(/*! ./stage.5 */26),stage_5_1_1=__webpack_require__(/*! ./stage.5_1 */27),stage_5_2_1=__webpack_require__(/*! ./stage.5_2 */28);exports.RoomStageController=class{static run(myRoom){const room=Game.rooms[myRoom.name];-1===myRoom.roomStage&&stage_default_1.StageDefault.up(myRoom,room),0===myRoom.roomStage&&stage_0_1.Stage0.up(myRoom,room),.5===myRoom.roomStage&&stage_0_5_1.Stage0_5.up(myRoom,room),1===myRoom.roomStage&&stage_1_1.Stage1.up(myRoom,room),1.3===myRoom.roomStage&&stage_1_3_1.Stage1_3.up(myRoom,room),1.6===myRoom.roomStage&&stage_1_6_1.Stage1_6.up(myRoom,room),2===myRoom.roomStage&&stage_2_1.Stage2.up(myRoom,room),2.3===myRoom.roomStage&&stage_2_3_1.Stage2_3.up(myRoom,room),2.6===myRoom.roomStage&&stage_2_6_1.Stage2_6.up(myRoom,room),3===myRoom.roomStage&&stage_3_1.Stage3.up(myRoom,room),3.3===myRoom.roomStage&&stage_3_3_1.Stage3_3.up(myRoom,room),3.6===myRoom.roomStage&&stage_3_6_1.Stage3_6.up(myRoom,room),4===myRoom.roomStage&&stage_4_1.Stage4.up(myRoom,room),4.2===myRoom.roomStage&&stage_4_2_1.Stage4_2.up(myRoom,room),4.4===myRoom.roomStage&&stage_4_4_1.Stage4_4.up(myRoom,room),4.6===myRoom.roomStage&&stage_4_6_1.Stage4_6.up(myRoom,room),4.8===myRoom.roomStage&&stage_4_8_1.Stage4_8.up(myRoom,room),5===myRoom.roomStage&&stage_5_1.Stage5.up(myRoom,room),5.1===myRoom.roomStage&&stage_5_1_1.Stage5_1.up(myRoom,room),5.2===myRoom.roomStage&&stage_5_2_1.Stage5_2.up(myRoom,room),myRoom.roomStage>5.2&&stage_5_2_1.Stage5_2.down(myRoom,room),myRoom.roomStage>5.1&&stage_5_1_1.Stage5_1.down(myRoom,room),myRoom.roomStage>5&&stage_5_1.Stage5.down(myRoom,room),myRoom.roomStage>4.8&&stage_4_8_1.Stage4_8.down(myRoom,room),myRoom.roomStage>4.6&&stage_4_6_1.Stage4_6.down(myRoom,room),myRoom.roomStage>4.4&&stage_4_4_1.Stage4_4.down(myRoom,room),myRoom.roomStage>4.2&&stage_4_2_1.Stage4_2.down(myRoom,room),myRoom.roomStage>4&&stage_4_1.Stage4.down(myRoom,room),myRoom.roomStage>3.6&&stage_3_6_1.Stage3_6.down(myRoom,room),myRoom.roomStage>3.3&&stage_3_3_1.Stage3_3.down(myRoom,room),myRoom.roomStage>3&&stage_3_1.Stage3.down(myRoom,room),myRoom.roomStage>2.6&&stage_2_6_1.Stage2_6.down(myRoom,room),myRoom.roomStage>2.3&&stage_2_3_1.Stage2_3.down(myRoom,room),myRoom.roomStage>2&&stage_2_1.Stage2.down(myRoom,room),myRoom.roomStage>1.6&&stage_1_6_1.Stage1_6.down(myRoom,room),myRoom.roomStage>1.3&&stage_1_3_1.Stage1_3.down(myRoom,room),myRoom.roomStage>1&&stage_1_1.Stage1.down(myRoom,room),myRoom.roomStage>.5&&stage_0_5_1.Stage0_5.down(myRoom,room),myRoom.roomStage>0&&stage_0_1.Stage0.down(myRoom,room),myRoom.roomStage>-1&&stage_default_1.StageDefault.down(myRoom,room)}}},
/*!**********************************!*\
  !*** ./ts-dist/stage.default.js ***!
  \**********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.StageDefault=class{static up(myRoom,room){return null!=room.controller&&!0===room.controller.my&&(myRoom.roomStage=0,console.log("LOG: Room "+myRoom.name+" increased to room stage 0"),!0)}static down(myRoom,room){return(null==room.controller||!1===room.controller.my)&&(myRoom.roomStage=-1,console.log("LOG: Room "+myRoom.name+" decreased to room stage -1"),!0)}}},
/*!****************************!*\
  !*** ./ts-dist/stage.0.js ***!
  \****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Stage0=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=1&&(myRoom.roomStage=.5,console.log("LOG: Room "+myRoom.name+" increased to room stage 0.5"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<1)&&(myRoom.roomStage=0,console.log("LOG: Room "+myRoom.name+" decreased to room stage 0"),!0)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.0_5.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.Stage0_5=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_SPAWN)>=1&&(myRoom.roomStage=1,console.log("LOG: Room "+myRoom.name+" increased to room stage 1"),!0)}static down(myRoom,room){return 0===global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_SPAWN)&&(myRoom.roomStage=.5,console.log("LOG: Room "+myRoom.name+" decreased to room stage 0.5"),!0)}static step(myRoom,room){console.log("ATTENTION: Room "+room.name+" needs first spawn")}}},
/*!****************************!*\
  !*** ./ts-dist/stage.1.js ***!
  \****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Stage1=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=2&&(myRoom.roomStage=1.3,console.log("LOG: Room "+myRoom.name+" increased to room stage 1.3"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<2)&&(myRoom.roomStage=1,console.log("LOG: Room "+myRoom.name+" decreased to room stage 1"),!0)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.1_3.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),stage_functions_1=__webpack_require__(/*! ./stage.functions */1);exports.Stage1_3=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=5&&(myRoom.roomStage=1.6,console.log("LOG: Room "+myRoom.name+" increased to room stage 1.6"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<5&&(myRoom.roomStage=1.3,console.log("LOG: Room "+myRoom.name+" decreased to room stage 1.3"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,5)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.1_6.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.Stage1_6=class{static up(myRoom,room){this.step(myRoom,room);const amountOfSource=room.find(FIND_SOURCES).length;return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_CONTAINER)>=amountOfSource&&(myRoom.roomStage=2,console.log("LOG: Room "+myRoom.name+" increased to room stage 2"),!0)}static down(myRoom,room){const amountOfSource=room.find(FIND_SOURCES).length;return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_CONTAINER)<amountOfSource&&(myRoom.roomStage=1.6,console.log("LOG: Room "+myRoom.name+" decreased to room stage 1.6"),!0)}static step(myRoom,room){const roomFlags=global_functions_1.GlobalFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--)"cont"!==roomFlags[i].name.split("-")[0]&&roomFlags.splice(i,1);let flagsPlaced=0;for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i];if(Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_CONTAINER)===OK){let placedFully=!1;for(let j=0;j<myRoom.mySources.length;j++){const mySource=myRoom.mySources[j],source=Game.getObjectById(mySource.id);null==source?console.log("ERR: Source was null when trying to get it by ID"):source.pos.inRangeTo(roomFlag.pos,1)&&(mySource.cache={pos:{x:roomFlag.pos.x,y:roomFlag.pos.y,roomName:myRoom.name},id:null},mySource.state="Cache",flagsPlaced++,placedFully=!0)}placedFully?(console.log("LOG: Placed container cache construction site"),roomFlag.remove()):console.log("ERR: Placed a construction site at a flag but couldn't find a source to give it to")}else console.log("ERR: Placing a container cache construction site errored")}for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(null!=mySource.cache&&null==mySource.cache.id){const structures=global_functions_1.GlobalFunctions.myPosToRoomPos(mySource.cache.pos).lookFor(LOOK_STRUCTURES);for(let j=0;j<structures.length;j++)if(structures[j].structureType===STRUCTURE_CONTAINER){mySource.cache.id=structures[j].id;break}}}flagsPlaced!==myRoom.mySources.length&&0===room.find(FIND_CONSTRUCTION_SITES).length&&console.log("ATTENTION: Room "+myRoom.name+" needs cache container flag")}}},
/*!****************************!*\
  !*** ./ts-dist/stage.2.js ***!
  \****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Stage2=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=3&&(myRoom.roomStage=2.3,console.log("LOG: Room "+myRoom.name+" increased to room stage 2.3"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<3)&&(myRoom.roomStage=2,console.log("LOG: Room "+myRoom.name+" decreased to room stage 2"),!0)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.2_3.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),stage_functions_1=__webpack_require__(/*! ./stage.functions */1);exports.Stage2_3=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_TOWER)>=1&&(myRoom.roomStage=2.6,console.log("LOG: Room "+myRoom.name+" increased to room stage 2.6"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_TOWER)<1&&(myRoom.roomStage=2.3,console.log("LOG: Room "+myRoom.name+" decreased to room stage 2.3"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildTowers(myRoom,1)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.2_6.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),stage_functions_1=__webpack_require__(/*! ./stage.functions */1);exports.Stage2_6=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=10&&(myRoom.roomStage=3,console.log("LOG: Room "+myRoom.name+" increased to room stage 3"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<10&&(myRoom.roomStage=2.6,console.log("LOG: Room "+myRoom.name+" decreased to room stage 2.6"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,10)}}},
/*!****************************!*\
  !*** ./ts-dist/stage.3.js ***!
  \****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Stage3=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=4&&(myRoom.roomStage=3.3,console.log("LOG: Room "+myRoom.name+" increased to room stage 3.3"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<4)&&(myRoom.roomStage=3,console.log("LOG: Room "+myRoom.name+" decreased to room stage 3"),!0)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.3_3.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),stage_functions_1=__webpack_require__(/*! ./stage.functions */1);exports.Stage3_3=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=20&&(myRoom.roomStage=3.6,console.log("LOG: Room "+myRoom.name+" increased to room stage 3.6"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<20&&(myRoom.roomStage=3.3,console.log("LOG: Room "+myRoom.name+" decreased to room stage 3.3"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,20)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.3_6.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.Stage3_6=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_STORAGE)>=1&&(myRoom.roomStage=4,console.log("LOG: Room "+myRoom.name+" increased to room stage 4"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_STORAGE)<1&&(myRoom.roomStage=3.6,console.log("LOG: Room "+myRoom.name+" decreased to room stage 3.6"),!0)}static step(myRoom,room){const storage=room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_STORAGE});if(1===storage.length)return void(myRoom.bankPos={x:storage[0].pos.x,y:storage[0].pos.y,roomName:myRoom.name});const roomFlags=global_functions_1.GlobalFunctions.getRoomsFlags(myRoom);for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i];"storage"===roomFlag.name.split("-")[0]&&(Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_STORAGE)===OK?(console.log("LOG: Placed storage bank construction site"),roomFlag.remove()):console.log("ERR: Placing a storage bank construction site errored"))}}}},
/*!****************************!*\
  !*** ./ts-dist/stage.4.js ***!
  \****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Stage4=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=5&&(myRoom.roomStage=4.2,console.log("LOG: Room "+myRoom.name+" increased to room stage 4.2"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<5)&&(myRoom.roomStage=4,console.log("LOG: Room "+myRoom.name+" decreased to room stage 4"),!0)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.4_2.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),stage_functions_1=__webpack_require__(/*! ./stage.functions */1);exports.Stage4_2=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_TOWER)>=2&&(myRoom.roomStage=4.4,console.log("LOG: Room "+myRoom.name+" increased to room stage 4.4"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_TOWER)<2&&(myRoom.roomStage=4.2,console.log("LOG: Room "+myRoom.name+" decreased to room stage 4.2"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildTowers(myRoom,2)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.4_4.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),stage_functions_1=__webpack_require__(/*! ./stage.functions */1);exports.Stage4_4=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=30&&(myRoom.roomStage=4.6,console.log("LOG: Room "+myRoom.name+" increased to room stage 4.6"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<30&&(myRoom.roomStage=4.4,console.log("LOG: Room "+myRoom.name+" decreased to room stage 4.4"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,30)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.4_6.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),stage_functions_1=__webpack_require__(/*! ./stage.functions */1);exports.Stage4_6=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_LINK)>=2&&(myRoom.roomStage=4.8,console.log("LOG: Room "+myRoom.name+" increased to room stage 4.8"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_LINK)<2&&(myRoom.roomStage=4.6,console.log("LOG: Room "+myRoom.name+" decreased to room stage 4.6"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.setupSourceLink(myRoom);const roomFlags=global_functions_1.GlobalFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--){const flagNameSplit=roomFlags[i].name.split("-");"link"===flagNameSplit[0]&&"bank"===flagNameSplit[1]||roomFlags.splice(i,1)}let placedBankLink=!1;for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i];Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_LINK)===OK?(myRoom.bankLink={pos:global_functions_1.GlobalFunctions.roomPosToMyPos(roomFlag.pos),id:null},roomFlag.remove(),placedBankLink=!0):console.log("ERR: Placing a bank link construction site errored")}if(null!=myRoom.bankLink){const structures=global_functions_1.GlobalFunctions.myPosToRoomPos(myRoom.bankLink.pos).lookFor(LOOK_STRUCTURES);for(let j=0;j<structures.length;j++)if(structures[j].structureType===STRUCTURE_LINK){myRoom.bankLink.id=structures[j].id;break}}placedBankLink||0!==Game.rooms[myRoom.name].find(FIND_CONSTRUCTION_SITES).length||console.log("ATTENTION: Room "+myRoom.name+" needs bank link flag (link-bank)")}}},
/*!******************************!*\
  !*** ./ts-dist/stage.4_8.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Stage4_8=class{static up(myRoom,room){this.step(myRoom,room);for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if("Link"===mySource.state&&null!=mySource.link&&null!=mySource.link.id&&null!=mySource.cache&&null==mySource.cache.id&&0===mySource.haulerNames.length)return myRoom.roomStage=5,console.log("LOG: Room "+myRoom.name+" increased to room stage 5"),!0}return!1}static down(myRoom,room){let foundLinkedSource=!1;for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if("Link"===mySource.state&&null!=mySource.link&&null!=mySource.link.id&&null!=mySource.cache&&null==mySource.cache.id&&0===mySource.haulerNames.length){foundLinkedSource=!0;break}}return!foundLinkedSource&&(myRoom.roomStage=4.8,console.log("LOG: Room "+myRoom.name+" decreased to room stage 4.8"),!0)}static step(myRoom,room){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if("Link"===mySource.state&&null!=mySource.link&&null!=mySource.link.id){for(let j=0;j<mySource.haulerNames.length;j++){const haulerName=mySource.haulerNames[j],creep=Game.creeps[haulerName];null!=creep&&(creep.say("dthb4dshnr"),creep.suicide())}if(mySource.haulerNames=[],null!=mySource.minerName){const creep=Game.creeps[mySource.minerName];null!=creep&&0===creep.getActiveBodyparts(CARRY)&&(creep.say("dthb4dshnr"),creep.suicide(),mySource.minerName=null)}if(null!=mySource.cache&&null!=mySource.cache.id){const cache=Game.getObjectById(mySource.cache.id);null==cache?mySource.cache.id=null:(cache.destroy(),mySource.cache.id=null)}}}}}},
/*!****************************!*\
  !*** ./ts-dist/stage.5.js ***!
  \****************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Stage5=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=6&&(myRoom.roomStage=5.1,console.log("LOG: Room "+myRoom.name+" increased to room stage 5.1"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<6)&&(myRoom.roomStage=5,console.log("LOG: Room "+myRoom.name+" decreased to room stage 5"),!0)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.5_1.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),stage_functions_1=__webpack_require__(/*! ./stage.functions */1);exports.Stage5_1=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_LINK)>=3&&(myRoom.roomStage=5.2,console.log("LOG: Room "+myRoom.name+" increased to room stage 5.2"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_LINK)<3&&(myRoom.roomStage=5.2,console.log("LOG: Room "+myRoom.name+" decreased to room stage 5.2"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.setupSourceLink(myRoom)}}},
/*!******************************!*\
  !*** ./ts-dist/stage.5_2.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),stage_functions_1=__webpack_require__(/*! ./stage.functions */1);exports.Stage5_2=class{static up(myRoom,room){return this.step(myRoom,room),global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=40&&(myRoom.roomStage=5.3,console.log("LOG: Room "+myRoom.name+" increased to room stage 5.3"),!0)}static down(myRoom,room){return global_functions_1.GlobalFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<40&&(myRoom.roomStage=5.2,console.log("LOG: Room "+myRoom.name+" decreased to room stage 5.2"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,40)}}},
/*!*********************************!*\
  !*** ./ts-dist/role.laborer.js ***!
  \*********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.RoleLaborer=class{static run(laborer,myRoom){const creep=Game.creeps[laborer.name];if(null!=creep){if(laborer.assignedRoomName!==creep.room.name)return creep.say("Fukn Lost"),void creep.moveTo(new RoomPosition(25,25,laborer.assignedRoomName));this.calculateCreepState(laborer,myRoom,creep),"PickupBank"===laborer.state?this.pickupBank(laborer,myRoom,creep):"PickupCache"===laborer.state?this.pickupCache(laborer,myRoom,creep):"Mining"===laborer.state?this.mining(laborer,myRoom,creep):this.labor(laborer,myRoom,creep)}else console.log("ERR: Laborer creep is null. Creep ID: "+laborer.name)}static calculateCreepState(laborer,myRoom,creep){if("Labor"===laborer.state&&0===creep.carry.energy){const bank=myRoom.bank;if(null!=bank&&bank.store[RESOURCE_ENERGY]>=creep.carryCapacity)return laborer.state="PickupBank",void creep.say("PickupBank");if(myRoom.roomStage>=1){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(null!=mySource.cache&&null!=mySource.cache.id){const cache=Game.getObjectById(mySource.cache.id);if(null==cache)mySource.cache.id=null,console.log("ERR: Source cache returned null with get by ID");else if(cache.store[RESOURCE_ENERGY]>=creep.carryCapacity)return laborer.state="PickupCache",void creep.say("PickupCache")}}return laborer.state="Mining",void creep.say("Mining")}return laborer.state="Mining",void creep.say("Mining")}"PickupBank"!==laborer.state&&"Mining"!==laborer.state&&"PickupCache"!==laborer.state||creep.carry.energy!==creep.carryCapacity||(laborer.state="Labor",creep.say("work work"))}static pickupBank(laborer,myRoom,creep){if(null==myRoom.bankPos)return void console.log("ERR: Room's bank pos was null");const bankPos=global_functions_1.GlobalFunctions.myPosToRoomPos(myRoom.bankPos);if(bankPos.isNearTo(creep)){const bank=myRoom.bank;if(null==bank)return void console.log("ERR: Room's bank was null");creep.withdraw(bank,RESOURCE_ENERGY)}else creep.moveTo(bankPos)}static pickupCache(laborer,myRoom,creep){const validCacheToGrabFrom=creep.pos.findClosestByPath(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_CONTAINER&&structure.store[RESOURCE_ENERGY]>=creep.carryCapacity});null==validCacheToGrabFrom?(laborer.state="Mining",creep.say("Mining")):validCacheToGrabFrom.pos.isNearTo(creep)?creep.withdraw(validCacheToGrabFrom,RESOURCE_ENERGY):creep.moveTo(validCacheToGrabFrom.pos)}static mining(laborer,myRoom,creep){const source=creep.pos.findClosestByPath(FIND_SOURCES_ACTIVE);null!=source&&creep.harvest(source)===ERR_NOT_IN_RANGE&&creep.moveTo(source)}static labor(laborer,myRoom,creep){let givenCommand=!1,forceUpgradeController=!1;if(null!=creep.room.controller&&creep.room.controller.ticksToDowngrade<5e3&&(forceUpgradeController=!0,givenCommand=!0),!givenCommand){const structureToAddTo=creep.pos.findClosestByPath(FIND_STRUCTURES,{filter:structure=>(structure.structureType===STRUCTURE_EXTENSION||structure.structureType===STRUCTURE_SPAWN||structure.structureType===STRUCTURE_TOWER)&&structure.energy<structure.energyCapacity});null!=structureToAddTo&&(givenCommand=!0,creep.transfer(structureToAddTo,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&creep.moveTo(structureToAddTo))}if(!givenCommand){const closestConstructionSite=creep.pos.findClosestByPath(FIND_CONSTRUCTION_SITES);null!=closestConstructionSite&&(givenCommand=!0,creep.build(closestConstructionSite)===ERR_NOT_IN_RANGE&&creep.moveTo(closestConstructionSite))}!forceUpgradeController&&givenCommand||creep.upgradeController(creep.room.controller)!==ERR_NOT_IN_RANGE||creep.moveTo(creep.room.controller)}}},
/*!******************************************!*\
  !*** ./ts-dist/room.spawn.controller.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const room_spawn_laborer_1=__webpack_require__(/*! ./room.spawn.laborer */31),room_spawn_miner_1=__webpack_require__(/*! ./room.spawn.miner */32),room_spawn_hauler_1=__webpack_require__(/*! ./room.spawn.hauler */33),constants_1=__webpack_require__(/*! ./constants */2);exports.RoomSpawnController=class{static run(myRoom){let laborerCount=0;for(let i=0;i<myRoom.myCreeps.length;i++)"Laborer"===myRoom.myCreeps[i].role&&laborerCount++;let forceSpawnlaborers=!1;laborerCount<constants_1.Constants.MIN_LABORERS?forceSpawnlaborers=!0:laborerCount<constants_1.Constants.LABORERS_BEFORE_BANK&&myRoom.roomStage<4&&(forceSpawnlaborers=!0),forceSpawnlaborers?room_spawn_laborer_1.RoomSpawnLaborer.forceSpawnLaborer(myRoom):(room_spawn_laborer_1.RoomSpawnLaborer.trySpawnLaborer(myRoom,laborerCount),room_spawn_miner_1.RoomSpawnMiner.trySpawnMiner(myRoom),room_spawn_hauler_1.RoomSpawnHauler.trySpawnHauler(myRoom))}}},
/*!***************************************!*\
  !*** ./ts-dist/room.spawn.laborer.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),constants_1=__webpack_require__(/*! ./constants */2);exports.RoomSpawnLaborer=class{static trySpawnLaborer(myRoom,laborerCount){if(null==myRoom.bankPos)return;const bank=myRoom.bank;if(null!=bank){if(bank.store[RESOURCE_ENERGY]>=constants_1.Constants.AMOUNT_OF_BANK_ENERGY_TO_SPAWN_LABORER&&laborerCount<constants_1.Constants.MAX_LABORERS){const newCreep=this.spawnLaborer(myRoom);null!=newCreep&&(myRoom.myCreeps.push(newCreep),console.log("LOG: Spawned a new Laborer"))}}else console.log("ERR: Bank is null when checking if it's full")}static forceSpawnLaborer(myRoom){const newCreep=this.spawnLaborer(myRoom);null!=newCreep&&(myRoom.myCreeps.push(newCreep),console.log("LOG: Force spawned a new Laborer"))}static spawnLaborer(myRoom){let spawn;if(0===myRoom.spawns.length||null==Game.spawns[myRoom.spawns[0].name]){if(null==(spawn=global_functions_1.GlobalFunctions.findClosestSpawn(new RoomPosition(25,25,myRoom.name))))return console.log("ERR: Couldn't find any spawns to make a laborer for room "+myRoom.name),null}else spawn=Game.spawns[myRoom.spawns[0].name];const useBestBody=myRoom.roomStage>=4,body=global_functions_1.GlobalFunctions.generateBody([MOVE,MOVE,CARRY,WORK],[MOVE,MOVE,CARRY,WORK],spawn.room,useBestBody),id=global_functions_1.GlobalFunctions.getId();return spawn.spawnCreep(body,"Creep"+id,{memory:{name:"Creep"+id,role:"Laborer",assignedRoomName:myRoom.name}})===OK?{name:"Creep"+id,role:"Laborer",assignedRoomName:myRoom.name,state:"Labor"}:null}}},
/*!*************************************!*\
  !*** ./ts-dist/room.spawn.miner.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.RoomSpawnMiner=class{static trySpawnMiner(myRoom){if(!(myRoom.roomStage<2))for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(null==mySource.minerName){const newCreep=this.spawnMiner(myRoom,mySource);if(null!=newCreep)return myRoom.myCreeps.push(newCreep),void console.log("LOG: Spawned a new Miner")}}}static spawnMiner(myRoom,mySource){if(0===myRoom.spawns.length)return console.log("ERR: Attempted to spawn miner in a room with no spawner (1)"),null;const spawn=Game.spawns[myRoom.spawns[0].name];if(null==spawn)return console.log("ERR: Attempted to spawn miner in a room with no spawner (2)"),null;if(null==mySource.cache)return console.log("ERR: Attempted to spawn miner to a source with no cache container pos"),null;let body,linkId=null;null!=mySource.link?(linkId=mySource.link.id,body=[MOVE,CARRY,WORK,WORK,WORK,WORK,WORK]):body=[MOVE,WORK,WORK,WORK,WORK,WORK];const id=global_functions_1.GlobalFunctions.getId();return spawn.spawnCreep(body,"Creep"+id,{memory:{name:"Creep"+id,role:"Miner",assignedRoomName:spawn.room.name}})===OK?(mySource.minerName="Creep"+id,{name:"Creep"+id,role:"Miner",assignedRoomName:spawn.room.name,cachePosToMineOn:mySource.cache.pos,linkIdToDepositTo:linkId,sourceId:mySource.id}):null}}},
/*!**************************************!*\
  !*** ./ts-dist/room.spawn.hauler.js ***!
  \**************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0),constants_1=__webpack_require__(/*! ./constants */2);exports.RoomSpawnHauler=class{static trySpawnHauler(myRoom){if(!(myRoom.roomStage<4))for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if("Cache"===mySource.state&&mySource.haulerNames.length<constants_1.Constants.AMOUNT_OF_HAULERS_PER_SOURCE){const newCreep=this.spawnHauler(myRoom,mySource);if(null!=newCreep)return myRoom.myCreeps.push(newCreep),mySource.haulerNames.push(newCreep.name),void console.log("LOG: Spawned a new hauler")}}}static spawnHauler(myRoom,mySource){if(0===myRoom.spawns.length)return console.log("ERR: Attempted to spawn hauler in a room with no spawner (1)"),null;const spawn=Game.spawns[myRoom.spawns[0].name];if(null==spawn)return console.log("ERR: Attempted to spawn hauler in a room with no spawner (2)"),null;if(null==mySource.cache)return console.log("ERR: Attempted to spawn hauler for a source with no cache pos"),null;const body=global_functions_1.GlobalFunctions.generateBody([MOVE,CARRY],[MOVE,CARRY],spawn.room,!0),id=global_functions_1.GlobalFunctions.getId();return spawn.spawnCreep(body,"Creep"+id,{memory:{name:"Creep"+id,role:"Hauler",assignedRoomName:spawn.room.name}})===OK?{name:"Creep"+id,role:"Hauler",assignedRoomName:spawn.room.name,cachePosToPickupFrom:mySource.cache.pos,pickup:!0}:null}}},
/*!************************************!*\
  !*** ./ts-dist/role.bankLinker.js ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.RoleBankLinker=class{static run(bankLinker,myRoom){const creep=Game.creeps[bankLinker.name];if(null!=creep){if(bankLinker.assignedRoomName!==creep.room.name)return creep.say("Fukn Lost"),void creep.moveTo(new RoomPosition(25,25,bankLinker.assignedRoomName));if(creep.carry[RESOURCE_ENERGY]===creep.carryCapacity){const bank=myRoom.bank;if(null==bank)return void console.log("ERR: Bank was null for a bank linker");creep.transfer(bank,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&creep.moveTo(bank)}else{if(null==myRoom.bankLink||null==myRoom.bankLink.id)return void console.log("ERR: Bank Link was null for a bank linker");const link=Game.getObjectById(myRoom.bankLink.id);if(null==link)return void console.log("ERR: Bank Link was null for a bank linker");creep.withdraw(link,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&creep.moveTo(link)}}else console.log("ERR: BankLinker creep is null. Creep ID: "+bankLinker.name)}}},
/*!*************************************!*\
  !*** ./ts-dist/room.source.link.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.RoomSourceLink=class{static run(myRoom,myLink){if(null===myLink.id)return;if(null==myRoom.bankLink||null==myRoom.bankLink.id)return;const link=Game.getObjectById(myLink.id);if(null===link)return console.log("ERR: Link was null when accessed by ID. Setting it to null"),void(myLink.id=null);if(link.energy===link.energyCapacity){const bankLink=Game.getObjectById(myRoom.bankLink.id);if(null===bankLink)return console.log("ERR: Bank link was null when accessed by ID. Setting it to null"),void(myRoom.bankLink.id=null);link.transferEnergy(bankLink)}}}},
/*!**************************************!*\
  !*** ./ts-dist/memory.controller.js ***!
  \**************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.MemoryController=class{static run(){this.clearDeadCreeps(),this.ensureAllRoomsInMyMemory(),this.validateRoomsInMyMemory(),this.cleanUpTravelingCreeps(),this.getBanks()}static clearBanks(){for(let i=0;i<Memory.myMemory.myRooms.length;i++)Memory.myMemory.myRooms[i].bank=null}static clearDeadCreeps(){for(const i in Memory.creeps)Game.creeps[i]||delete Memory.creeps[i]}static ensureAllRoomsInMyMemory(){for(const roomName in Game.rooms){const room=Game.rooms[roomName];let myRoom=null;if(null!=room.controller&&!1!==room.controller.my){for(let i=0;i<Memory.myMemory.myRooms.length;i++){const myExistingRoom=Memory.myMemory.myRooms[i];null!=myExistingRoom&&myExistingRoom.name===roomName&&(myRoom=myExistingRoom)}if(null==myRoom){console.log("LOG: Adding a new room "+roomName);const newMyRoom={name:roomName,myCreeps:[],spawns:[],mySources:[],roomStage:-1,bankPos:null,myExtensionPositions:[],myTowerPositions:[],bankLinkerName:null,bankLink:null,bank:null},sources=room.find(FIND_SOURCES);for(let i=0;i<sources.length;i++){const source=sources[i];newMyRoom.mySources.push({id:source.id,state:"NoCache",minerName:null,haulerNames:[],cache:null,link:null})}const spawns=room.find(FIND_MY_SPAWNS);for(let i=0;i<spawns.length;i++){const spawn=spawns[i];newMyRoom.spawns.push({position:global_functions_1.GlobalFunctions.roomPosToMyPos(spawn.pos),name:spawn.name})}Memory.myMemory.myRooms.push(newMyRoom)}else{const spawns=room.find(FIND_MY_SPAWNS);if(spawns.length!==myRoom.spawns.length){myRoom.spawns=[];for(let i=0;i<spawns.length;i++){const spawn=spawns[i];myRoom.spawns.push({position:global_functions_1.GlobalFunctions.roomPosToMyPos(spawn.pos),name:spawn.name})}}}}}}static validateRoomsInMyMemory(){for(let i=Memory.myMemory.myRooms.length-1;i>=0;i--){const myRoom=Memory.myMemory.myRooms[i];if(null!=Game.rooms[myRoom.name])for(let j=myRoom.myCreeps.length-1;j>=0;j--){const myCreep=myRoom.myCreeps[j];null==Game.creeps[myCreep.name]&&(this.handleCreepDying(myRoom,myCreep),myRoom.myCreeps.splice(j,1))}else console.log("LOG: Lost vision of a room "+myRoom.name),Memory.myMemory.myRooms.splice(i,1)}}static handleCreepDying(myRoom,myCreep){if("Miner"===myCreep.role){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];mySource.minerName===myCreep.name&&(mySource.minerName=null)}console.log("LOG: A Miner has died")}else if("Hauler"===myCreep.role){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];for(let j=mySource.haulerNames.length-1;j>=0;j--)mySource.haulerNames[j]===myCreep.name&&mySource.haulerNames.splice(j,1)}console.log("LOG: A Hauler has died")}else"Laborer"===myCreep.role?console.log("LOG: A Laborer has died"):"Claimer"===myCreep.role?console.log("LOG: A Claimer has died"):"BankLinker"===myCreep.role?(myRoom.bankLinkerName=null,console.log("LOG: A BankLinker has died")):console.log("LOG: A Creep with a weird role has died: "+myCreep.role)}static cleanUpTravelingCreeps(){for(let i=Memory.myMemory.myTravelingCreeps.length-1;i>=0;i--){const myCreep=Memory.myMemory.myTravelingCreeps[i];null==Game.creeps[myCreep.name]&&Memory.myMemory.myTravelingCreeps.splice(i,1)}}static getBanks(){for(let i=0;i<Memory.myMemory.myRooms.length;i++){const myRoom=Memory.myMemory.myRooms[i];if(null!=myRoom.bankPos){const structures=global_functions_1.GlobalFunctions.myPosToRoomPos(myRoom.bankPos).lookFor(LOOK_STRUCTURES);for(let j=0;j<structures.length;j++)if(structures[j].structureType===STRUCTURE_STORAGE){myRoom.bank=structures[j];break}}}}}},
/*!*********************************!*\
  !*** ./ts-dist/role.claimer.js ***!
  \*********************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.RoleClaimer=class{static run(claimer){const creep=Game.creeps[claimer.name];if(null!=creep)return null==Game.flags[claimer.flagName]&&(creep.say("dthb4dshnr"),creep.suicide()),claimer.assignedRoomName!==creep.room.name?(creep.say("Fukn Lost"),void creep.moveTo(new RoomPosition(25,25,claimer.assignedRoomName))):void(null!=creep.room.controller?creep.claimController(creep.room.controller)===ERR_NOT_IN_RANGE&&creep.moveTo(creep.room.controller):console.log("ERR: Claimer can't claim a room with no controller"));console.log("ERR: Claimer creep is null. Creep ID: "+claimer.name)}}},
/*!************************************!*\
  !*** ./ts-dist/live.controller.js ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const live_spawn_claimer_1=__webpack_require__(/*! ./live.spawn.claimer */39);exports.LiveController=class{static run(){live_spawn_claimer_1.LiveSpawnClaimer.run()}}},
/*!***************************************!*\
  !*** ./ts-dist/live.spawn.claimer.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global_functions_1=__webpack_require__(/*! ./global.functions */0);exports.LiveSpawnClaimer=class{static run(){const flagNames=Object.keys(Game.flags);for(let i=0;i<flagNames.length;i++){const flag=Game.flags[flagNames[i]];if("live-claim"===flag.name){if(null!=flag.room&&null!=flag.room.controller&&flag.room.controller.my)flag.remove(),console.log("LOG: Room "+flag.room.name+" has been claimed");else{let claimerAlreadyMade=!1;for(let j=0;j<Memory.myMemory.myTravelingCreeps.length;j++)if("Claimer"===Memory.myMemory.myTravelingCreeps[j].role){claimerAlreadyMade=!0;break}if(!claimerAlreadyMade){const claimer=this.spawnClaimer(flag);null!=claimer&&(console.log("LOG: Spawned a new claimer"),Memory.myMemory.myTravelingCreeps.push(claimer))}}return}}}static spawnClaimer(flag){const spawn=global_functions_1.GlobalFunctions.findClosestSpawn(flag.pos);if(null==spawn)return flag.remove(),console.log("ERR: Couldn't find a spawn to make a claimer"),null;const id=global_functions_1.GlobalFunctions.getId();return spawn.spawnCreep([MOVE,CLAIM],"Creep"+id,{memory:{name:"Creep"+id,role:"Claimer",assignedRoomName:flag.pos.roomName}})===OK?{name:"Creep"+id,role:"Claimer",assignedRoomName:flag.pos.roomName,flagName:flag.name}:null}}}]);