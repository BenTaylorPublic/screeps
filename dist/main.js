module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=66)}([
/*!********************************************!*\
  !*** ./ts-dist/global/helper-functions.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../reporting/report-controller */1);class HelperFunctions{static getId(){const toReturn=Memory.myMemory.globalId;return Memory.myMemory.globalId++,toReturn}static generateBody(baseBody,bodyPartsToAdd,room,useBest,maxBodySize=50,fillWithTough=!1){const maxEnergyToUse=useBest?room.energyCapacityAvailable:room.energyAvailable;let body=baseBody;for(;this.calcBodyCost(body)+this.calcBodyCost(bodyPartsToAdd)<=maxEnergyToUse&&body.length+bodyPartsToAdd.length<=maxBodySize;)body=body.concat(bodyPartsToAdd);if(fillWithTough){const toughtPart=[TOUGH];for(;this.calcBodyCost(body)+this.calcBodyCost(toughtPart)<=maxEnergyToUse&&body.length+1<=maxBodySize;)body=toughtPart.concat(body)}return body}static amountOfStructure(room,structureConstant){return room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===structureConstant}).length}static getRoomsFlags(myRoom){const result=[],flagNames=Object.keys(Game.flags);for(let i=0;i<flagNames.length;i++){const flag=Game.flags[flagNames[i]];null!=flag.room&&flag.room.name===myRoom.name&&result.push(flag)}return result}static roomPosToMyPos(roomPos){return{x:roomPos.x,y:roomPos.y,roomName:roomPos.roomName}}static myPosToRoomPos(myPos){return new RoomPosition(myPos.x,myPos.y,myPos.roomName)}static isAllyUsername(username){return-1!==["james1652"].indexOf(username.toLowerCase())}static findClosestSpawn(roomPos){let spawnToReturn=null,closestDistance=9999;for(let i=0;i<Memory.myMemory.myRooms.length;i++){const myRoom=Memory.myMemory.myRooms[i];if(myRoom.spawns.length>=1){const distance=this.getRoomDistance(roomPos.roomName,myRoom.name);distance<closestDistance&&(closestDistance=distance,spawnToReturn=Game.spawns[myRoom.spawns[0].name])}}return spawnToReturn}static getMyRoomByName(name){for(let j=0;j<Memory.myMemory.myRooms.length;j++)if(Memory.myMemory.myRooms[j].name===name)return Memory.myMemory.myRooms[j];return null}static logTable(table){const maxColumnWidth=[];for(let columnIndex=0;columnIndex<table[0].length;columnIndex++){maxColumnWidth[columnIndex]=0;for(let rowIndex=0;rowIndex<table.length;rowIndex++){const length=table[rowIndex][columnIndex].length;length>maxColumnWidth[columnIndex]&&(maxColumnWidth[columnIndex]=length+1)}}for(let rowIndex=0;rowIndex<table.length;rowIndex++){let rowAsString="";for(let columnIndex=0;columnIndex<table[rowIndex].length;columnIndex++){const dataInCell=table[rowIndex][columnIndex];rowAsString+=dataInCell;const spacesToAdd=maxColumnWidth[columnIndex]-dataInCell.length;for(let spacesToFill=0;spacesToFill<spacesToAdd;spacesToFill++)rowAsString+=" "}console.log(rowAsString)}}static getRoomNameAsInterface(roomName){const result={roomName:roomName,xNum:-1,yNum:-1,xChar:"",yChar:""},splitResult=roomName.split(/[NSEW]/g);splitResult.splice(0,1);const letters=roomName.replace(/[0-9]/g,"");return result.xNum=Number(splitResult[0]),result.yNum=Number(splitResult[1]),result.xChar=letters[0],result.yChar=letters[1],result}static getCreepToRoom(creep,creepMemory,roomName){if(null==creepMemory.interRoomTravelCurrentTarget||creep.pos.roomName!==creepMemory.interRoomTravelCurrentTarget.roomName){const target=this.getInterRoomTravelPathTarget(creep.pos,roomName);if(null==target)return;creepMemory.interRoomTravelCurrentTarget=this.roomPosToMyPos(target)}this.myMoveTo(creep,this.myPosToRoomPos(creepMemory.interRoomTravelCurrentTarget),creepMemory)}static getRoomDistance(roomOneName,roomTwoName){const result=Game.map.findRoute(roomOneName,roomTwoName,{routeCallback:(room2,room1)=>Memory.myMemory.empire.avoidRooms.includes(room2)?1/0:1});return result===ERR_NO_PATH?1/0:result.length}static isMiddle3x3(roomName){const myRoomName=this.getRoomNameAsInterface(roomName),xResult=myRoomName.xNum%10,yResult=myRoomName.yNum%10;return xResult>=4&&xResult<=6&&yResult>=4&&yResult<=6}static isHighway(roomName){const myRoomName=this.getRoomNameAsInterface(roomName),xResult=myRoomName.xNum%10,yResult=myRoomName.yNum%10;return 0===xResult||0===yResult}static myMoveTo(creep,moveTo,myCreep){if(creep.fatigue>0)return ERR_TIRED;const currentCreepPos=this.roomPosToMyPos(creep.pos);return this.posMatches(moveTo,myCreep.roomMoveTarget.pos)&&!this.posMatches2(myCreep.lastPos,currentCreepPos)?(myCreep.lastPos=currentCreepPos,creep.moveByPath(myCreep.roomMoveTarget.path)):(myCreep.lastPos=currentCreepPos,myCreep.roomMoveTarget.pos=this.roomPosToMyPos(moveTo),myCreep.roomMoveTarget.path=creep.pos.findPathTo(moveTo,{costCallback:(roomNamee,costMatrix)=>roomNamee===creep.room.name&&(HelperFunctions.avoidEdges(costMatrix,creep.room),costMatrix)}),creep.moveByPath(myCreep.roomMoveTarget.path))}static areaAroundPos(pos,room){let result=8;const terrain=room.getTerrain(),roomPositionsAround=[];roomPositionsAround.push({x:pos.x,y:pos.y-1}),roomPositionsAround.push({x:pos.x,y:pos.y+1}),roomPositionsAround.push({x:pos.x-1,y:pos.y}),roomPositionsAround.push({x:pos.x+1,y:pos.y}),roomPositionsAround.push({x:pos.x-1,y:pos.y-1}),roomPositionsAround.push({x:pos.x-1,y:pos.y+1}),roomPositionsAround.push({x:pos.x+1,y:pos.y+1}),roomPositionsAround.push({x:pos.x+1,y:pos.y-1});for(let i=0;i<8;i++)terrain.get(roomPositionsAround[i].x,roomPositionsAround[i].y)===TERRAIN_MASK_WALL&&result--;return result}static handleCreepPreRole(myCreep){return!!this.creepQueuedOrSpawning(myCreep)||myCreep.assignedRoomName!==Game.creeps[myCreep.name].room.name&&(Game.creeps[myCreep.name].say("Traveling"),HelperFunctions.getCreepToRoom(Game.creeps[myCreep.name],myCreep,myCreep.assignedRoomName),!0)}static creepQueuedOrSpawning(myCreep){if("alive"===myCreep.spawningStatus)return!1;if("queued"===myCreep.spawningStatus&&null!=Game.creeps[myCreep.name])return myCreep.spawningStatus="spawning",!0;if("spawning"===myCreep.spawningStatus&&null!=Game.creeps[myCreep.name].ticksToLive){if(myCreep.spawningStatus="alive","Miner"===myCreep.role){const creep=Game.creeps[myCreep.name];let workCount=0;for(let i=0;i<creep.body.length;i++)creep.body[i].type===WORK&&workCount++;myCreep.amountOfWork=workCount}return!1}return!0}static roomNameAsLink(roomName){return"<a href='#!/room/shard3/"+roomName+"'>"+roomName+"</a>"}static bodyCost(body){return body.reduce(function(cost,part){return cost+BODYPART_COST[part]},0)}static posMatches(pos,myPos){return null!=myPos&&pos.roomName===myPos.roomName&&pos.x===myPos.x&&pos.y===myPos.y}static posMatches2(myPos1,myPos2){return null!=myPos1&&null!=myPos2&&myPos1.roomName===myPos2.roomName&&myPos1.x===myPos2.x&&myPos1.y===myPos2.y}static avoidEdges(costMatrix,room){room.find(FIND_EXIT).forEach(exitPos=>{costMatrix.set(exitPos.x,exitPos.y,1/0)})}static getInterRoomTravelPathTarget(currentPos,toRoomName){const fromRoomName=currentPos.roomName,result1=Game.map.findRoute(fromRoomName,toRoomName,{routeCallback:(room2,room1)=>Memory.myMemory.empire.avoidRooms.includes(room2)?1/0:1});if(result1===ERR_NO_PATH)return report_controller_1.ReportController.email("ERROR: getInterRoomTravelPath got ERRO_NO_PATH for "+HelperFunctions.roomNameAsLink(fromRoomName)+" to "+HelperFunctions.roomNameAsLink(toRoomName)),null;if(result1.length<=0)return report_controller_1.ReportController.email("ERROR: getInterRoomTravelPath length <= 0 for "+HelperFunctions.roomNameAsLink(fromRoomName)+" to "+HelperFunctions.roomNameAsLink(toRoomName)),null;const thisRoomsExits=Game.rooms[fromRoomName].find(result1[0].exit);return currentPos.findClosestByPath(thisRoomsExits)}static calcBodyCost(body){return body.reduce(function(cost,part){return cost+BODYPART_COST[part]},0)}}exports.HelperFunctions=HelperFunctions},
/*!************************************************!*\
  !*** ./ts-dist/reporting/report-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ReportController=class{static log(message){console.log(message)}static email(message,cooldown=0){console.log(message),null!=Memory.myMemory.reports[message]&&(new Date).getTime()<Memory.myMemory.reports[message]||(cooldown>0&&(Memory.myMemory.reports[message]=(new Date).getTime()+cooldown),Game.notify(Game.time+": "+message))}static niceDateFormat(date){const localDate=new Date(date.toLocaleString("en-US",{timeZone:"Australia/Melbourne"}));return localDate.getMonth()+1+"-"+localDate.getDate()+" "+localDate.getHours()+":"+localDate.getMinutes()+":"+localDate.getSeconds()}static timeSince(date){let secondsLeft=Math.floor(((new Date).getTime()-date.getTime())/1e3),result="";if(secondsLeft>=604800){const weeks=Math.floor(secondsLeft/604800);secondsLeft-=604800*weeks,result+=weeks+"w, "}if(secondsLeft>=86400){const days=Math.floor(secondsLeft/86400);secondsLeft-=86400*days,result+=days+"d, "}if(secondsLeft>=3600){const hours=Math.floor(secondsLeft/3600);secondsLeft-=3600*hours,result+=hours+"h, "}if(secondsLeft>=60){const minutes=Math.floor(secondsLeft/60);secondsLeft-=60*minutes,result+=minutes+"m, "}return secondsLeft>=0&&(result+=secondsLeft+"s"),result+=" ago"}}},
/*!************************************************!*\
  !*** ./ts-dist/room/stages/stage-functions.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.StageFunctions=class{static buildExtensions(myRoom,room,numberOfExtensionsToBuild){const roomFlags=helper_functions_1.HelperFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--)"ex"!==roomFlags[i].name.split("-")[0]&&roomFlags.splice(i,1);for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i],flagNameSplit=roomFlag.name.split("-");if(Number(flagNameSplit[1])<=numberOfExtensionsToBuild){const result=Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_EXTENSION);result===OK?(report_controller_1.ReportController.log("Placed extension construction site in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)),roomFlag.remove()):result!==ERR_RCL_NOT_ENOUGH&&report_controller_1.ReportController.email("ERROR: Placing a extension construction site errored "+result+" in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}}0===Game.rooms[myRoom.name].find(FIND_CONSTRUCTION_SITES).length&&helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<numberOfExtensionsToBuild&&report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" needs more extension flags (up to ex-"+numberOfExtensionsToBuild.toString()+")",report_cooldown_constants_1.ReportCooldownConstants.DAY)}static buildTowers(myRoom,room,numberOfTowersToBuild){const roomFlags=helper_functions_1.HelperFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--)"tower"!==roomFlags[i].name.split("-")[0]&&roomFlags.splice(i,1);for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i],flagNameSplit=roomFlag.name.split("-");Number(flagNameSplit[1])<=numberOfTowersToBuild&&(Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_TOWER)===OK?(report_controller_1.ReportController.log("Placed tower construction site in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)),roomFlag.remove()):report_controller_1.ReportController.email("ERROR: Placing a tower construction site errored in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)))}0===Game.rooms[myRoom.name].find(FIND_CONSTRUCTION_SITES).length&&helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TOWER)<numberOfTowersToBuild&&report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" needs more tower flags (up to tower-"+numberOfTowersToBuild+")",report_cooldown_constants_1.ReportCooldownConstants.DAY)}static setupSourceLink(myRoom){const roomFlags=helper_functions_1.HelperFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--){const flagNameSplit=roomFlags[i].name.split("-");"link"===flagNameSplit[0]&&"source"===flagNameSplit[1]||roomFlags.splice(i,1)}let placedFully=!1;for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i];if(Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_LINK)===OK){for(let j=0;j<myRoom.mySources.length;j++){const mySource=myRoom.mySources[j],source=Game.getObjectById(mySource.id);null==source?report_controller_1.ReportController.email("ERROR: Source was null when trying to get it by ID in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)):source.pos.inRangeTo(roomFlag.pos,2)&&(mySource.link={pos:helper_functions_1.HelperFunctions.roomPosToMyPos(roomFlag.pos),id:null},placedFully=!0)}placedFully?(report_controller_1.ReportController.log("Placed source link construction site in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)),roomFlag.remove()):report_controller_1.ReportController.email("ERROR: Placed a construction site at a flag but couldn't find a source to give it to in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}}for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(null!=mySource.link&&null==mySource.link.id){const structures=helper_functions_1.HelperFunctions.myPosToRoomPos(mySource.link.pos).lookFor(LOOK_STRUCTURES);for(let j=0;j<structures.length;j++)if(structures[j].structureType===STRUCTURE_LINK){mySource.link.id=structures[j].id,mySource.state="Link";break}}}placedFully||0!==Game.rooms[myRoom.name].find(FIND_CONSTRUCTION_SITES).length||report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" needs source link flag (link-source-X)",report_cooldown_constants_1.ReportCooldownConstants.DAY)}static clearHaulersAndCaches(myRoom){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if("Link"===mySource.state&&null!=mySource.link&&null!=mySource.link.id){for(let j=0;j<mySource.haulerNames.length;j++){const haulerName=mySource.haulerNames[j],creep=Game.creeps[haulerName];null!=creep&&(creep.say("dthb4dshnr"),creep.suicide(),report_controller_1.ReportController.log(helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" clearHaulersAndCaches killed a hauler"))}if(mySource.haulerNames=[],null!=mySource.minerName){const creep=Game.creeps[mySource.minerName];null!=creep&&0===creep.getActiveBodyparts(CARRY)&&(creep.say("dthb4dshnr"),creep.suicide(),mySource.minerName=null,report_controller_1.ReportController.log(helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" clearHaulersAndCaches killed a miner with no CARRY"))}if(null!=mySource.cache&&null!=mySource.cache.id){const cache=Game.getObjectById(mySource.cache.id);null==cache?mySource.cache.id=null:(cache.destroy(),mySource.cache.id=null,report_controller_1.ReportController.log(helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" clearHaulersAndCaches destroyed a cache"))}}}}static buildSpawns(myRoom,room,amount){const roomFlags=helper_functions_1.HelperFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--)"spawn"!==roomFlags[i].name.split("-")[0]&&roomFlags.splice(i,1);let placedSpawn=!1;1===roomFlags.length&&roomFlags[0].pos.createConstructionSite(STRUCTURE_SPAWN)===OK&&(placedSpawn=!0,roomFlags[0].remove()),!placedSpawn&&0===room.find(FIND_CONSTRUCTION_SITES).length&&helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_SPAWN)<amount&&report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)+" needs a spawn flag (spawn)",report_cooldown_constants_1.ReportCooldownConstants.DAY)}}},
/*!**************************************************!*\
  !*** ./ts-dist/global/spawn-queue-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.SpawnQueueController=class{static queueCreepSpawn(myRoom,priority,name,role){const newCreep={priority:priority,name:name,role:role};if(0!==myRoom.spawnQueue.length){for(let i=0;i<myRoom.spawnQueue.length;i++)if(newCreep.priority>myRoom.spawnQueue[i].priority)return void myRoom.spawnQueue.splice(i,0,newCreep);myRoom.spawnQueue=myRoom.spawnQueue.concat(newCreep)}else myRoom.spawnQueue.push(newCreep)}}},
/*!*************************************!*\
  !*** ./ts-dist/global/constants.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Constants{}Constants.MAX_HAULERS_PER_SOURCE=1,Constants.PERCENT_OF_CACHE_ENERGY_TO_SPAWN_HAULER=.5,Constants.HAULER_COOLDOWN_DISTANCE_FACTOR=1.2,Constants.AMOUNT_OF_BANK_ENERGY_TO_SPAWN_LABORER=1e5,Constants.MAX_LABORERS=6,Constants.MIN_LABORERS=1,Constants.MAX_LABORERS_STAGE_8=3,Constants.LABORERS_BEFORE_BANK=3,Constants.SOURCE_LINK_TRANSFER_AT=.5,Constants.WALL_AND_RAMPART_GOAL_HEALTH=1e4,Constants.TOWER_REPAIR_ABOVE_PERCENT=.5,Constants.CONSCRIPTION_RANGE=3,Constants.CONSCRIPTION_QUICK_MINIMUM_STAGE=4,Constants.CONSCRIPTION_PRESSURE_MINIMUM_STAGE=6,Constants.RALLY_FLAG_RANGE=3,Constants.POWER_SCAV_TTL_MIN=4500,Constants.POWER_SCAV_RANGE_MAX=5,Constants.POWER_SCAV_ROOM_STAGE=8,Constants.POWER_SCAV_MAX_BANKS_AT_ONE_TIME=0,Constants.POWER_SCAV_MAX_DAMAGE_PER_TICK_PER_AREA=240,Constants.POWER_SCAV_MAX_DAMAGE_TRAVEL_TICKS_PER_ROOM=150,Constants.POWER_SCAV_MAX_HAUL_TRAVEL_TICKS_PER_ROOM=50,Constants.POWER_SCAV_AREA_AROUND_BANK_MIN=2,Constants.MAX_STOCKERS=1,Constants.LABORERS_UPGRADE_WHEN_CONTROLLER_BENEATH=5e3,Constants.STAGE_8_SPAWN_LABORERS_WHEN_CONTROLLER_BENEATH=1e5,exports.Constants=Constants},
/*!*****************************************************!*\
  !*** ./ts-dist/global/report-cooldown-constants.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class ReportCooldownConstants{}ReportCooldownConstants.WEEK=6048e5,ReportCooldownConstants.DAY=864e5,ReportCooldownConstants.HOUR=36e5,ReportCooldownConstants.FIVE_MINUTE=3e5,ReportCooldownConstants.MINUTE=6e4,exports.ReportCooldownConstants=ReportCooldownConstants},
/*!*******************************************!*\
  !*** ./ts-dist/global/spawn-constants.js ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class SpawnConstants{}SpawnConstants.ATTACK_QUICK=5,SpawnConstants.FORCE_LABORER=4.5,SpawnConstants.STOCKER=4.25,SpawnConstants.CLAIMER=4,SpawnConstants.BANK_LINKER=3.5,SpawnConstants.MINER=3,SpawnConstants.POWER_SCAV_ATTACK=2.5,SpawnConstants.POWER_SCAV_HAUL=2.5,SpawnConstants.ATTACK_PRESSURE=2.5,SpawnConstants.HAULER=2,SpawnConstants.LABORER=1,SpawnConstants.SIGNER=.5,exports.SpawnConstants=SpawnConstants},
/*!*************************************************!*\
  !*** ./ts-dist/schedule/schedule-controller.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../global/helper-functions */0);exports.ScheduleController=class{static preLoop(myMemory){for(let i=myMemory.scheduledCommands.length-1;i>=0;i--){const scheduledCommand=myMemory.scheduledCommands[i];"SET_FALSE_ON_PENDING_CONSCRIPTED_CREEP"===scheduledCommand.action&&this.setFalseOnPendingConscriptedCreep(myMemory,scheduledCommand.roomName),myMemory.scheduledCommands.splice(i,1)}}static scheduleForNextTick(action,roomName){Memory.myMemory.scheduledCommands.push({action:action,roomName:roomName})}static setFalseOnPendingConscriptedCreep(myMemory,roomName){for(let i=0;i<myMemory.myRooms.length;i++)if(myMemory.myRooms[i].name===roomName)return void(myMemory.myRooms[i].pendingConscriptedCreep=!1);report_controller_1.ReportController.email("ERROR: Failed to find the room to set pendingConscriptedCreep to false. roomName: "+helper_functions_1.HelperFunctions.roomNameAsLink(roomName))}}},
/*!****************************************************!*\
  !*** ./ts-dist/empire/spawn-claimer-controller.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../reporting/report-controller */1),spawn_queue_controller_1=__webpack_require__(/*! ../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../global/spawn-constants */6);exports.SpawnClaimerController=class{static run(myMemory){if(Game.time%10!=0)return;const flag=Game.flags.claim;if(null!=flag)if(null!=flag.room&&null!=flag.room.controller&&!0===flag.room.controller.my)flag.remove(),report_controller_1.ReportController.log("Room "+helper_functions_1.HelperFunctions.roomNameAsLink(flag.room.name)+" has been claimed");else{let claimerAlreadyMade=!1;for(let j=0;j<myMemory.empire.creeps.length;j++)if("Claimer"===myMemory.empire.creeps[j].role){claimerAlreadyMade=!0;break}if(!claimerAlreadyMade){const claimer=this.spawnClaimer(flag);null!=claimer&&myMemory.empire.creeps.push(claimer)}}}static getBody(){return[MOVE,CLAIM]}static spawnClaimer(flag){const spawn=helper_functions_1.HelperFunctions.findClosestSpawn(flag.pos);if(null==spawn)return flag.remove(),report_controller_1.ReportController.email("ERROR: Couldn't find a spawn to make a claimer for "+helper_functions_1.HelperFunctions.roomNameAsLink(flag.pos.roomName)),null;const roomToSpawnFrom=helper_functions_1.HelperFunctions.getMyRoomByName(spawn.room.name),name="Creep"+helper_functions_1.HelperFunctions.getId();return spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(roomToSpawnFrom,spawn_constants_1.SpawnConstants.CLAIMER,name,"Claimer"),report_controller_1.ReportController.log("Queued a new claimer in "+helper_functions_1.HelperFunctions.roomNameAsLink(roomToSpawnFrom.name)+" for "+helper_functions_1.HelperFunctions.roomNameAsLink(flag.pos.roomName)),{name:name,role:"Claimer",assignedRoomName:flag.pos.roomName,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]},flagName:flag.name}}}},
/*!**********************************************************!*\
  !*** ./ts-dist/empire/attack/attack-helper-functions.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);class AttackHelperFunctions{static getNewTargetIfNeeded(attackTarget,flag){if(null!=attackTarget){const roomObject=Game.getObjectById(attackTarget.id);null==roomObject?attackTarget=AttackHelperFunctions.getAttackTarget(flag):attackTarget.roomObject=roomObject}else attackTarget=AttackHelperFunctions.getAttackTarget(flag);return attackTarget}static getAttackTarget(flagToPathFrom){if(null==flagToPathFrom.room)return null;null==Game.flags["attack-target"]&&(Game.flags["attack-target"]=new Flag("attack-target",COLOR_RED,COLOR_RED,flagToPathFrom.room.name,1,1));const targetFlag=Game.flags["attack-target"],flagPos=flagToPathFrom.pos,room=flagToPathFrom.room,costMatrix=new PathFinder.CostMatrix;room.find(FIND_STRUCTURES).forEach(function(struct){struct.structureType!==STRUCTURE_WALL&&struct.structureType!==STRUCTURE_RAMPART||costMatrix.set(struct.pos.x,struct.pos.y,255)});const spawns=room.find(FIND_HOSTILE_SPAWNS),spawnTarget=this.pathFindToRoomObject(flagPos,spawns,costMatrix);if(null!=spawnTarget)return report_controller_1.ReportController.log("New Attack Target (Spawn) "+JSON.stringify(spawnTarget.roomObject.pos)),targetFlag.setPosition(spawnTarget.roomObject.pos),{roomObject:spawnTarget.roomObject,id:spawnTarget.roomObject.id,type:"Spawn"};const towers=room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_TOWER}),towerTarget=this.pathFindToRoomObject(flagPos,towers,costMatrix);if(null!=towerTarget)return report_controller_1.ReportController.log("New Attack Target (Tower) "+JSON.stringify(towerTarget.roomObject.pos)),targetFlag.setPosition(towerTarget.roomObject.pos),{roomObject:towerTarget.roomObject,id:towerTarget.roomObject.id,type:"Tower"};const creeps=room.find(FIND_HOSTILE_CREEPS),creepTarget=this.pathFindToRoomObject(flagPos,creeps,costMatrix);if(null!=creepTarget)return report_controller_1.ReportController.log("New Attack Target (Creep) "+JSON.stringify(creepTarget.roomObject.pos)),targetFlag.setPosition(creepTarget.roomObject.pos),{roomObject:creepTarget.roomObject,id:creepTarget.roomObject.id,type:"Creep"};const ramparts=room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_RAMPART}),rampartTarget=this.pathFindToRoomObject(flagPos,ramparts,costMatrix);if(null!=rampartTarget)return report_controller_1.ReportController.log("New Attack Target (Rampart) "+JSON.stringify(rampartTarget.roomObject.pos)),targetFlag.setPosition(rampartTarget.roomObject.pos),{roomObject:rampartTarget.roomObject,id:rampartTarget.roomObject.id,type:"Rampart"};const walls=room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_WALL}),wallTarget=this.pathFindToRoomObject(flagPos,walls,costMatrix);return null!=wallTarget?(report_controller_1.ReportController.log("New Attack Target (Wall) "+JSON.stringify(wallTarget.roomObject.pos)),targetFlag.setPosition(wallTarget.roomObject.pos),{roomObject:wallTarget.roomObject,id:wallTarget.roomObject.id,type:"Wall"}):(report_controller_1.ReportController.log("Nothing pathable in getAttackTarget"),targetFlag.remove(),null)}static endAttack(){const flagNames=Object.keys(Game.flags);for(let i=flagNames.length-1;i>=0;i--)if(flagNames[i].includes("attack")){Game.flags[flagNames[i]].remove()}const myRooms=Memory.myMemory.myRooms;for(let i=0;i<myRooms.length;i++)myRooms[i].pendingConscriptedCreep=!1}static pathFindToRoomObject(start,roomObjects,costmatrix){if(0===roomObjects.length)return null;let result=null;for(let i=0;i<roomObjects.length;i++){const roomObject=roomObjects[i],pathFinderPath=PathFinder.search(start,{pos:roomObject.pos,range:1},{roomCallback:roomName=>{if(roomName===start.roomName)return costmatrix;{const room=Game.rooms[roomName],costMatrix=new PathFinder.CostMatrix;return null==room?costMatrix:(room.find(FIND_STRUCTURES).forEach(function(struct){struct.structureType!==STRUCTURE_WALL&&struct.structureType!==STRUCTURE_RAMPART||costMatrix.set(struct.pos.x,struct.pos.y,255)}),costMatrix)}}});pathFinderPath.incomplete||(null==result?result={roomObject:roomObject,pathFinderPath:pathFinderPath}:result.pathFinderPath.cost>pathFinderPath.cost&&(result={roomObject:roomObject,pathFinderPath:pathFinderPath}))}return result}}exports.AttackHelperFunctions=AttackHelperFunctions},
/*!*********************************************!*\
  !*** ./ts-dist/empire/role/attack-creep.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const constants_1=__webpack_require__(/*! ../../global/constants */4),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.RoleAttackCreep=class{static run(attackCreep,attackState,rallyOrRoomTargetFlag,attackTarget){if(helper_functions_1.HelperFunctions.creepQueuedOrSpawning(attackCreep))return;const creep=Game.creeps[attackCreep.name];"Rally"===attackState||"Conscripting"===attackState?(helper_functions_1.HelperFunctions.myMoveTo(creep,rallyOrRoomTargetFlag.pos,attackCreep),creep.pos.inRangeTo(rallyOrRoomTargetFlag.pos,constants_1.Constants.RALLY_FLAG_RANGE)?creep.say("Rallying"):creep.say("Moving")):"Charge"===attackState&&(creep.room.name!==rallyOrRoomTargetFlag.pos.roomName?(creep.say("Charge!"),helper_functions_1.HelperFunctions.myMoveTo(creep,rallyOrRoomTargetFlag.pos,attackCreep)):this.attackLogic(creep,attackTarget,attackCreep))}static attackLogic(creep,attackTarget,attackCreep){null==attackTarget?creep.say("No target!"):(creep.say("⚔️"+attackTarget.type),creep.pos.inRangeTo(attackTarget.roomObject.pos,1)?creep.attack(attackTarget.roomObject):helper_functions_1.HelperFunctions.myMoveTo(creep,attackTarget.roomObject.pos,attackCreep))}}},
/*!*************************************************!*\
  !*** ./ts-dist/empire/power-scav-controller.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const constants_1=__webpack_require__(/*! ../global/constants */4),helper_functions_1=__webpack_require__(/*! ../global/helper-functions */0),power_scav_attack_creep_1=__webpack_require__(/*! ./role/power-scav-attack-creep */64),spawn_queue_controller_1=__webpack_require__(/*! ../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../global/spawn-constants */6),report_controller_1=__webpack_require__(/*! ../reporting/report-controller */1);exports.PowerScavController=class{static observedPowerBank(powerBank){const myMemory=Memory.myMemory;if(powerBank.ticksToDecay<constants_1.Constants.POWER_SCAV_TTL_MIN)return;let closestDistance=999,closestRooms=[];for(let i=0;i<myMemory.myRooms.length;i++){const myRoom=myMemory.myRooms[i];if(myRoom.roomStage<constants_1.Constants.POWER_SCAV_ROOM_STAGE)continue;const roomDistance=helper_functions_1.HelperFunctions.getRoomDistance(powerBank.room.name,myRoom.name);roomDistance===closestDistance?closestRooms.push(myRoom):roomDistance<closestDistance&&(closestRooms=[myRoom],closestDistance=roomDistance)}if(closestDistance>constants_1.Constants.POWER_SCAV_RANGE_MAX)return;for(let i=0;i<myMemory.empire.powerScav.targetBanks.length;i++)if(myMemory.empire.powerScav.targetBanks[i].id===powerBank.id)return;if(myMemory.empire.powerScav.targetBanks.length>=constants_1.Constants.POWER_SCAV_MAX_BANKS_AT_ONE_TIME)return;const amountOfPositionsAroundBank=helper_functions_1.HelperFunctions.areaAroundPos(powerBank.pos,powerBank.room);if(amountOfPositionsAroundBank<constants_1.Constants.POWER_SCAV_AREA_AROUND_BANK_MIN)return;report_controller_1.ReportController.log("Power scavenging power bank in room "+helper_functions_1.HelperFunctions.roomNameAsLink(powerBank.room.name));const roomsToSpawnThrough=[];for(let i=0;i<closestRooms.length;i++)roomsToSpawnThrough.push(closestRooms[i].name);const damageTravelTime=closestDistance*constants_1.Constants.POWER_SCAV_MAX_DAMAGE_TRAVEL_TICKS_PER_ROOM,damagePerTick=amountOfPositionsAroundBank*constants_1.Constants.POWER_SCAV_MAX_DAMAGE_PER_TICK_PER_AREA,damageDonePerCreep=(1500-damageTravelTime)*constants_1.Constants.POWER_SCAV_MAX_DAMAGE_PER_TICK_PER_AREA,amountOfAttackCreepsNeeded=Math.ceil(2e6/damageDonePerCreep),haulerTravelTime=closestDistance*constants_1.Constants.POWER_SCAV_MAX_HAUL_TRAVEL_TICKS_PER_ROOM,spawnHaulersAtHp=haulerTravelTime*damagePerTick,amountOfCarryBody=powerBank.power/50,email="Scavenging power bank at "+powerBank.room.name+"\nGame.time: "+Game.time+"\nEOL: "+(Game.time+powerBank.ticksToDecay)+"\nclosestDistance: "+closestDistance+"\ndamageTravelTime: "+damageTravelTime+"\ndamagePerTick: "+damagePerTick+"\ndamageDonePerCreep: "+damageDonePerCreep+"\namountOfPositionsAroundBank: "+amountOfPositionsAroundBank+"\namountOfAttackCreepsNeeded: "+amountOfAttackCreepsNeeded+"\nhaulerTravelTime: "+haulerTravelTime+"\nspawnHaulersAtHp: "+spawnHaulersAtHp+"\namountOfCarryBody: "+amountOfCarryBody+"\n";Game.notify(email),myMemory.empire.powerScav.targetBanks.push({id:powerBank.id,pos:helper_functions_1.HelperFunctions.roomPosToMyPos(powerBank.pos),roomsToGetCreepsFrom:roomsToSpawnThrough,roomsToGetCreepsFromIndex:0,eol:Game.time+powerBank.ticksToDecay,roomDistanceToBank:closestDistance,attackCreeps:[],attackCreepsStillNeeded:amountOfAttackCreepsNeeded,amountOfPositionsAroundBank:amountOfPositionsAroundBank,power:powerBank.power,replaceAtTTL:damageTravelTime,spawnHaulersAtHP:spawnHaulersAtHp,amountOfCarryBodyStillNeeded:amountOfCarryBody,state:"high_hp"})}static run(myMemory){if(0!==myMemory.empire.powerScav.targetBanks.length)for(let i=myMemory.empire.powerScav.targetBanks.length-1;i>=0;i--){const bankScavengingFrom=myMemory.empire.powerScav.targetBanks[i];Game.time>bankScavengingFrom.eol&&("dead"!==bankScavengingFrom.state||bankScavengingFrom.amountOfCarryBodyStillNeeded<=0)&&myMemory.empire.powerScav.targetBanks.splice(i,1),this.handleBank(bankScavengingFrom,myMemory)}}static getHealBody(){return[MOVE,MOVE,MOVE,MOVE,MOVE,MOVE,MOVE,MOVE,MOVE,MOVE,MOVE,MOVE,HEAL,HEAL,HEAL,HEAL,HEAL,ATTACK,ATTACK,ATTACK,ATTACK,HEAL,HEAL,HEAL,HEAL,HEAL,ATTACK,ATTACK,ATTACK,ATTACK,HEAL,HEAL,HEAL,HEAL,HEAL,ATTACK,ATTACK,ATTACK,ATTACK,HEAL,HEAL,HEAL,HEAL,HEAL,ATTACK,ATTACK,ATTACK,ATTACK]}static handleBank(bankScavengingFrom,myMemory){for(let i=bankScavengingFrom.attackCreeps.length-1;i>=0;i--)Game.creeps[bankScavengingFrom.attackCreeps[i].name]||bankScavengingFrom.attackCreeps.splice(i,1);this.trySpawnAttackCreepIfNeeded(bankScavengingFrom,myMemory);const powerBank=Game.getObjectById(bankScavengingFrom.id);for(let i=0;i<bankScavengingFrom.attackCreeps.length;i++)power_scav_attack_creep_1.RolePowerScavAttackCreep.run(bankScavengingFrom.attackCreeps[i],bankScavengingFrom,powerBank);null!=powerBank&&"high_hp"===bankScavengingFrom.state&&powerBank.hits<bankScavengingFrom.spawnHaulersAtHP&&(bankScavengingFrom.state="spawn_haulers"),"high_hp"!==bankScavengingFrom.state&&this.trySpawnHaulCreepIfNeeded(bankScavengingFrom,myMemory)}static trySpawnHaulCreepIfNeeded(bank,myMemory){let sectionsNeeded=Math.ceil(bank.amountOfCarryBodyStillNeeded/2);if(sectionsNeeded>16)sectionsNeeded=16;else if(sectionsNeeded<=0)return;let body=[];for(let i=0;i<sectionsNeeded;i++)body=body.concat([CARRY,CARRY,MOVE]);bank.roomsToGetCreepsFromIndex>=bank.roomsToGetCreepsFrom.length&&(bank.roomsToGetCreepsFromIndex=0);const roomName=bank.roomsToGetCreepsFrom[bank.roomsToGetCreepsFromIndex];bank.roomsToGetCreepsFromIndex++;const myRoom=helper_functions_1.HelperFunctions.getMyRoomByName(roomName);if(null==myRoom)return;const newCreep=this.spawnHaulCreep(bank,myRoom);myMemory.empire.creeps.push(newCreep),report_controller_1.ReportController.log("Queued a new PowerScavHaulCreep in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)),bank.amountOfCarryBodyStillNeeded-=2*sectionsNeeded,bank.amountOfCarryBodyStillNeeded<=0&&Game.notify("PowerScav: Queued all the haul creeps needed in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}static spawnHaulCreep(powerScav,myRoom){const name="Creep"+helper_functions_1.HelperFunctions.getId();return spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(myRoom,spawn_constants_1.SpawnConstants.POWER_SCAV_HAUL,name,"PowerScavHaulCreep"),{name:name,role:"PowerScavHaulCreep",assignedRoomName:powerScav.pos.roomName,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]},state:"grabbing",roomToDepositTo:myRoom.name}}static trySpawnAttackCreepIfNeeded(bank,myMemory){if(bank.attackCreepsStillNeeded<=0)return;let creepsToReplace=0,creepsStillGood=0;for(let i=0;i<bank.attackCreeps.length;i++){const creep=Game.creeps[bank.attackCreeps[i].name];!bank.attackCreeps[i].beenReplaced&&null!=creep.ticksToLive&&creep.ticksToLive<=bank.replaceAtTTL?creepsToReplace++:creepsStillGood++}if(!(creepsStillGood<bank.amountOfPositionsAroundBank||creepsToReplace>0))return;bank.roomsToGetCreepsFromIndex>=bank.roomsToGetCreepsFrom.length&&(bank.roomsToGetCreepsFromIndex=0),bank.roomsToGetCreepsFromIndex++;const roomName=bank.roomsToGetCreepsFrom[bank.roomsToGetCreepsFromIndex],myRoom=helper_functions_1.HelperFunctions.getMyRoomByName(roomName);if(null==myRoom)return;const newCreep=this.spawnAttackCreep(bank,myRoom);bank.attackCreeps.push(newCreep),report_controller_1.ReportController.log("Queued a new PowerScavAttackCreep in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)),bank.attackCreepsStillNeeded--;for(let j=0;j<bank.attackCreeps.length;j++){if(bank.attackCreeps[j].beenReplaced)continue;const creep=Game.creeps[bank.attackCreeps[j].name];if(null!=creep.ticksToLive&&creep.ticksToLive<=bank.replaceAtTTL)return void(bank.attackCreeps[j].beenReplaced=!0)}}static spawnAttackCreep(powerScav,myRoom){const name="Creep"+helper_functions_1.HelperFunctions.getId();return spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(myRoom,spawn_constants_1.SpawnConstants.POWER_SCAV_ATTACK,name,"PowerScavAttackCreep"),{name:name,role:"PowerScavAttackCreep",assignedRoomName:powerScav.pos.roomName,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]},powerBankId:powerScav.id,beenReplaced:!1}}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/room-controller.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tower_1=__webpack_require__(/*! ./structures/tower */13),miner_1=__webpack_require__(/*! ./roles/miner */14),hauler_1=__webpack_require__(/*! ./roles/hauler */15),room_stage_controller_1=__webpack_require__(/*! ./room-stage-controller */16),laborer_1=__webpack_require__(/*! ./roles/laborer */48),room_spawn_controller_1=__webpack_require__(/*! ./spawns/room-spawn-controller */49),bank_linker_1=__webpack_require__(/*! ./roles/bank-linker */54),source_link_1=__webpack_require__(/*! ./structures/source-link */55),report_controller_1=__webpack_require__(/*! ../reporting/report-controller */1),stocker_1=__webpack_require__(/*! ./roles/stocker */68),helper_functions_1=__webpack_require__(/*! ../global/helper-functions */0);exports.RoomController=class{static run(myRoom){if(null==Game.rooms[myRoom.name])return void report_controller_1.ReportController.email("ERROR: No longer have vision of room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));const room=Game.rooms[myRoom.name];room_stage_controller_1.RoomStageController.run(myRoom,room),room_spawn_controller_1.RoomSpawnController.run(myRoom,room),tower_1.RoomTowerController.run(myRoom,room);const laborersStock=this.shouldLaborersStock(myRoom);for(let i=0;i<myRoom.myCreeps.length;i++){const myCreep=myRoom.myCreeps[i];"Miner"===myCreep.role?miner_1.RoleMiner.run(myCreep,myRoom):"Hauler"===myCreep.role?hauler_1.RoleHauler.run(myCreep,myRoom):"Laborer"===myCreep.role?laborer_1.RoleLaborer.run(myCreep,myRoom,laborersStock):"BankLinker"===myCreep.role?bank_linker_1.RoleBankLinker.run(myCreep,myRoom):"Stocker"===myCreep.role&&stocker_1.RoleStocker.run(myCreep,myRoom)}for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];null!=mySource.link&&source_link_1.RoomSourceLinkController.run(myRoom,mySource.link)}}static shouldLaborersStock(myRoom){if(myRoom.roomStage<4)return!0;if(Game.rooms[myRoom.name].energyAvailable>600)return!1;if(myRoom.bank.store.energy>=1250)return!1;let foundMinerWhosAlive=!1;for(let j=0;j<myRoom.myCreeps.length;j++){const myCreep=myRoom.myCreeps[j];if("Miner"===myCreep.role&&"queued"!==myCreep.spawningStatus){foundMinerWhosAlive=!0;break}}return!foundMinerWhosAlive}}},
/*!******************************************!*\
  !*** ./ts-dist/room/structures/tower.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),constants_1=__webpack_require__(/*! ../../global/constants */4),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.RoomTowerController=class{static run(myRoom,room){const towers=room.find(FIND_STRUCTURES,{filter:{structureType:STRUCTURE_TOWER,my:!0}});if(0===towers.length)return;const otherCreeps=this.findOtherCreeps(room);if(0!==otherCreeps.hostileCreeps.length){const target=this.getBestCreepTarget(otherCreeps.hostileCreeps);"Invader"!==target.owner.username&&report_controller_1.ReportController.email("Tower attacking target with name "+target.name+" Owner: "+target.owner.username+" in "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name),report_cooldown_constants_1.ReportCooldownConstants.FIVE_MINUTE);for(let i=0;i<towers.length;i++)towers[i].attack(target)}else{const damagedStructures=room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType!==STRUCTURE_WALL&&structure.structureType!==STRUCTURE_RAMPART?structure.hits<structure.hitsMax:structure.hits<constants_1.Constants.WALL_AND_RAMPART_GOAL_HEALTH});if(0!==damagedStructures.length)for(let i=0;i<towers.length&&!this.repairIfEnoughEnergy(towers[i],damagedStructures[0]);i++);}}static repairIfEnoughEnergy(tower,structure){return tower.store.energy>=tower.store.getCapacity(RESOURCE_ENERGY)*constants_1.Constants.TOWER_REPAIR_ABOVE_PERCENT&&(tower.repair(structure),!0)}static getBestCreepTarget(hostileCreeps){if(0===hostileCreeps.length)return hostileCreeps[0];let target=null;for(let i=0;i<hostileCreeps.length;i++){const hostileCreep=hostileCreeps[i];let healer=!1;for(let j=0;j<hostileCreep.body.length;j++)if(hostileCreep.body[j].type===HEAL){healer=!0;break}if(healer){target=hostileCreep;break}null==target&&(target=hostileCreep)}return target}static findOtherCreeps(room){const result={hostileCreeps:[],alliedCreeps:[]},otherCreeps=room.find(FIND_HOSTILE_CREEPS);for(let i=0;i<otherCreeps.length;i++){const possibleHostileCreep=otherCreeps[i];helper_functions_1.HelperFunctions.isAllyUsername(possibleHostileCreep.owner.username)?result.alliedCreeps.push(possibleHostileCreep):result.hostileCreeps.push(possibleHostileCreep)}return result}}},
/*!*************************************!*\
  !*** ./ts-dist/room/roles/miner.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.RoleMiner=class{static run(miner,myRoom){if(helper_functions_1.HelperFunctions.handleCreepPreRole(miner))return;const creep=Game.creeps[miner.name],cachePos=helper_functions_1.HelperFunctions.myPosToRoomPos(miner.cachePosToMineOn);if(cachePos.isEqualTo(creep.pos)){const source=Game.getObjectById(miner.sourceId);if(null==source)return void report_controller_1.ReportController.email("ERROR: Miner has been given a source which is null. Creep ID: "+miner.name+" in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));if(source.energy>0&&(0===creep.store.energy||creep.store.energy<=creep.store.getCapacity()-2*miner.amountOfWork||0===creep.store.getCapacity())){let mySource=null;for(let i=0;i<myRoom.mySources.length;i++)myRoom.mySources[i].minerName===miner.name&&(mySource=myRoom.mySources[i]);if("Cache"!==mySource.state)creep.harvest(source);else if(null!=mySource.cache&&null!=mySource.cache.id){const cache=Game.getObjectById(mySource.cache.id);null!=cache?cache.store.energy<2e3&&creep.harvest(source):report_controller_1.ReportController.email("ERROR: Source cache returned null with get by ID in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}}else if(null!=miner.linkIdToDepositTo&&creep.store.energy>creep.store.getCapacity()-2*miner.amountOfWork){const link=Game.getObjectById(miner.linkIdToDepositTo);if(null==link)return miner.linkIdToDepositTo=null,void report_controller_1.ReportController.email("ERROR: A miner's link ID to deposit in was null in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));creep.transfer(link,RESOURCE_ENERGY)}}else helper_functions_1.HelperFunctions.myMoveTo(creep,cachePos,miner)}}},
/*!**************************************!*\
  !*** ./ts-dist/room/roles/hauler.js ***!
  \**************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.RoleHauler=class{static run(hauler,myRoom){if(helper_functions_1.HelperFunctions.handleCreepPreRole(hauler))return;const creep=Game.creeps[hauler.name];if(!1===hauler.pickup&&0===creep.store.energy?(hauler.pickup=!0,creep.say("pickup")):!0===hauler.pickup&&creep.store.energy===creep.store.getCapacity()&&(hauler.pickup=!1,creep.say("delivering")),hauler.pickup){const cacheToGrabFromPos=helper_functions_1.HelperFunctions.myPosToRoomPos(hauler.cachePosToPickupFrom);if(cacheToGrabFromPos.isNearTo(creep)){let cacheToGrabFrom=null;const structures=cacheToGrabFromPos.lookFor(LOOK_STRUCTURES);for(let i=0;i<structures.length;i++){const structure=structures[i];structure.structureType===STRUCTURE_CONTAINER&&(cacheToGrabFrom=structure)}if(null==cacheToGrabFrom)return void report_controller_1.ReportController.email("ERROR: Source cache is null for hauler: "+hauler.name+" in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));cacheToGrabFrom.store[RESOURCE_ENERGY]>=creep.store.getFreeCapacity()&&creep.withdraw(cacheToGrabFrom,RESOURCE_ENERGY)}else helper_functions_1.HelperFunctions.myMoveTo(creep,cacheToGrabFromPos,hauler)}else{if(null==myRoom.bankPos)return void report_controller_1.ReportController.email("ERROR: Room's bank pos was null in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));const bankPos=helper_functions_1.HelperFunctions.myPosToRoomPos(myRoom.bankPos);if(bankPos.isNearTo(creep)){const bank=myRoom.bank;if(null==bank)return void report_controller_1.ReportController.email("ERROR: Room's bank was null in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));creep.transfer(bank,RESOURCE_ENERGY)}else helper_functions_1.HelperFunctions.myMoveTo(creep,bankPos,hauler)}}}},
/*!***********************************************!*\
  !*** ./ts-dist/room/room-stage-controller.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const stage_default_1=__webpack_require__(/*! ./stages/stage-default */17),stage0_1=__webpack_require__(/*! ./stages/stage0 */18),stage0_5_1=__webpack_require__(/*! ./stages/stage0_5 */19),stage1_1=__webpack_require__(/*! ./stages/stage1 */20),stage1_3_1=__webpack_require__(/*! ./stages/stage1_3 */21),stage1_6_1=__webpack_require__(/*! ./stages/stage1_6 */22),stage2_1=__webpack_require__(/*! ./stages/stage2 */23),stage2_3_1=__webpack_require__(/*! ./stages/stage2_3 */24),stage2_6_1=__webpack_require__(/*! ./stages/stage2_6 */25),stage3_1=__webpack_require__(/*! ./stages/stage3 */26),stage3_3_1=__webpack_require__(/*! ./stages/stage3_3 */27),stage3_6_1=__webpack_require__(/*! ./stages/stage3_6 */28),stage4_1=__webpack_require__(/*! ./stages/stage4 */29),stage4_2_1=__webpack_require__(/*! ./stages/stage4_2 */30),stage4_4_1=__webpack_require__(/*! ./stages/stage4_4 */31),stage4_6_1=__webpack_require__(/*! ./stages/stage4_6 */32),stage4_8_1=__webpack_require__(/*! ./stages/stage4_8 */33),stage5_1=__webpack_require__(/*! ./stages/stage5 */34),stage5_2_1=__webpack_require__(/*! ./stages/stage5_2 */35),stage5_4_1=__webpack_require__(/*! ./stages/stage5_4 */36),stage5_6_1=__webpack_require__(/*! ./stages/stage5_6 */37),stage5_8_1=__webpack_require__(/*! ./stages/stage5_8 */38),stage6_1=__webpack_require__(/*! ./stages/stage6 */39),stage6_25_1=__webpack_require__(/*! ./stages/stage6_25 */40),stage6_5_1=__webpack_require__(/*! ./stages/stage6_5 */41),stage6_75_1=__webpack_require__(/*! ./stages/stage6_75 */42),stage7_1=__webpack_require__(/*! ./stages/stage7 */43),stage7_2_1=__webpack_require__(/*! ./stages/stage7_2 */44),stage7_4_1=__webpack_require__(/*! ./stages/stage7_4 */45),stage7_6_1=__webpack_require__(/*! ./stages/stage7_6 */46),stage7_8_1=__webpack_require__(/*! ./stages/stage7_8 */47);exports.RoomStageController=class{static run(myRoom,room){Game.time%10==0&&(-1===myRoom.roomStage?stage_default_1.StageDefault.up(myRoom,room):0===myRoom.roomStage?stage0_1.Stage0.up(myRoom,room):.5===myRoom.roomStage?stage0_5_1.Stage0_5.up(myRoom,room):1===myRoom.roomStage?stage1_1.Stage1.up(myRoom,room):1.3===myRoom.roomStage?stage1_3_1.Stage1_3.up(myRoom,room):1.6===myRoom.roomStage?stage1_6_1.Stage1_6.up(myRoom,room):2===myRoom.roomStage?stage2_1.Stage2.up(myRoom,room):2.3===myRoom.roomStage?stage2_3_1.Stage2_3.up(myRoom,room):2.6===myRoom.roomStage?stage2_6_1.Stage2_6.up(myRoom,room):3===myRoom.roomStage?stage3_1.Stage3.up(myRoom,room):3.3===myRoom.roomStage?stage3_3_1.Stage3_3.up(myRoom,room):3.6===myRoom.roomStage?stage3_6_1.Stage3_6.up(myRoom,room):4===myRoom.roomStage?stage4_1.Stage4.up(myRoom,room):4.2===myRoom.roomStage?stage4_2_1.Stage4_2.up(myRoom,room):4.4===myRoom.roomStage?stage4_4_1.Stage4_4.up(myRoom,room):4.6===myRoom.roomStage?stage4_6_1.Stage4_6.up(myRoom,room):4.8===myRoom.roomStage?stage4_8_1.Stage4_8.up(myRoom,room):5===myRoom.roomStage?stage5_1.Stage5.up(myRoom,room):5.2===myRoom.roomStage?stage5_2_1.Stage5_2.up(myRoom,room):5.4===myRoom.roomStage?stage5_4_1.Stage5_4.up(myRoom,room):5.6===myRoom.roomStage?stage5_6_1.Stage5_6.up(myRoom,room):5.8===myRoom.roomStage?stage5_8_1.Stage5_8.up(myRoom,room):6===myRoom.roomStage?stage6_1.Stage6.up(myRoom,room):6.25===myRoom.roomStage?stage6_25_1.Stage6_25.up(myRoom,room):6.5===myRoom.roomStage?stage6_5_1.Stage6_5.up(myRoom,room):6.75===myRoom.roomStage?stage6_75_1.Stage6_75.up(myRoom,room):7===myRoom.roomStage?stage7_1.Stage7.up(myRoom,room):7.2===myRoom.roomStage?stage7_2_1.Stage7_2.up(myRoom,room):7.4===myRoom.roomStage?stage7_4_1.Stage7_4.up(myRoom,room):7.6===myRoom.roomStage?stage7_6_1.Stage7_6.up(myRoom,room):7.8===myRoom.roomStage&&stage7_8_1.Stage7_8.up(myRoom,room),myRoom.roomStage>7.6&&stage7_6_1.Stage7_6.down(myRoom,room),myRoom.roomStage>7.6&&stage7_6_1.Stage7_6.down(myRoom,room),myRoom.roomStage>7.4&&stage7_4_1.Stage7_4.down(myRoom,room),myRoom.roomStage>7.2&&stage7_2_1.Stage7_2.down(myRoom,room),myRoom.roomStage>7&&stage7_1.Stage7.down(myRoom,room),myRoom.roomStage>6.75&&stage6_75_1.Stage6_75.down(myRoom,room),myRoom.roomStage>6.5&&stage6_5_1.Stage6_5.down(myRoom,room),myRoom.roomStage>6.25&&stage6_25_1.Stage6_25.down(myRoom,room),myRoom.roomStage>6&&stage6_1.Stage6.down(myRoom,room),myRoom.roomStage>5.8&&stage5_8_1.Stage5_8.down(myRoom,room),myRoom.roomStage>5.6&&stage5_6_1.Stage5_6.down(myRoom,room),myRoom.roomStage>5.4&&stage5_4_1.Stage5_4.down(myRoom,room),myRoom.roomStage>5.2&&stage5_2_1.Stage5_2.down(myRoom,room),myRoom.roomStage>5&&stage5_1.Stage5.down(myRoom,room),myRoom.roomStage>4.8&&stage4_8_1.Stage4_8.down(myRoom,room),myRoom.roomStage>4.6&&stage4_6_1.Stage4_6.down(myRoom,room),myRoom.roomStage>4.4&&stage4_4_1.Stage4_4.down(myRoom,room),myRoom.roomStage>4.2&&stage4_2_1.Stage4_2.down(myRoom,room),myRoom.roomStage>4&&stage4_1.Stage4.down(myRoom,room),myRoom.roomStage>3.6&&stage3_6_1.Stage3_6.down(myRoom,room),myRoom.roomStage>3.3&&stage3_3_1.Stage3_3.down(myRoom,room),myRoom.roomStage>3&&stage3_1.Stage3.down(myRoom,room),myRoom.roomStage>2.6&&stage2_6_1.Stage2_6.down(myRoom,room),myRoom.roomStage>2.3&&stage2_3_1.Stage2_3.down(myRoom,room),myRoom.roomStage>2&&stage2_1.Stage2.down(myRoom,room),myRoom.roomStage>1.6&&stage1_6_1.Stage1_6.down(myRoom,room),myRoom.roomStage>1.3&&stage1_3_1.Stage1_3.down(myRoom,room),myRoom.roomStage>1&&stage1_1.Stage1.down(myRoom,room),myRoom.roomStage>.5&&stage0_5_1.Stage0_5.down(myRoom,room),myRoom.roomStage>0&&stage0_1.Stage0.down(myRoom,room),myRoom.roomStage>-1&&stage_default_1.StageDefault.down(myRoom,room))}}},
/*!**********************************************!*\
  !*** ./ts-dist/room/stages/stage-default.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.StageDefault=class{static up(myRoom,room){return null!=room.controller&&!0===room.controller.my&&(myRoom.roomStage=0,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 0"),!0)}static down(myRoom,room){return(null==room.controller||!1===room.controller.my)&&(myRoom.roomStage=-1,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage -1"),!0)}}},
/*!***************************************!*\
  !*** ./ts-dist/room/stages/stage0.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.Stage0=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=1&&(myRoom.roomStage=.5,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 0.5"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<1)&&(myRoom.roomStage=0,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 0"),!0)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage0_5.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.Stage0_5=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_SPAWN)>=1&&(myRoom.roomStage=1,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 1"),!0)}static down(myRoom,room){return 0===helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_SPAWN)&&(myRoom.roomStage=.5,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 0.5"),!0)}static step(myRoom,room){0===Game.rooms[myRoom.name].find(FIND_CONSTRUCTION_SITES).length&&report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)+" needs first spawn, which should be manually placed",report_cooldown_constants_1.ReportCooldownConstants.DAY)}}},
/*!***************************************!*\
  !*** ./ts-dist/room/stages/stage1.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.Stage1=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=2&&(myRoom.roomStage=1.3,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 1.3"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<2)&&(myRoom.roomStage=1,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 1"),!0)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage1_3.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage1_3=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=5&&(myRoom.roomStage=1.6,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 1.6"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<5&&(myRoom.roomStage=1.3,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 1.3"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,room,5)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage1_6.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.Stage1_6=class{static up(myRoom,room){this.step(myRoom,room);for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(!(null!=mySource.cache&&null!=mySource.cache.id||null!=mySource.link&&null!=mySource.link.id))return!1}return myRoom.roomStage=2,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 2"),!0}static down(myRoom,room){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(!(null!=mySource.cache&&null!=mySource.cache.id||null!=mySource.link&&null!=mySource.link.id))return myRoom.roomStage=1.6,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 1.6"),!0}return!1}static step(myRoom,room){const roomFlags=helper_functions_1.HelperFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--)"cont"!==roomFlags[i].name.split("-")[0]&&roomFlags.splice(i,1);let flagsPlaced=0;for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i];if(Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_CONTAINER)===OK||this.containerInPos(roomFlag.pos)){let placedFully=!1;for(let j=0;j<myRoom.mySources.length;j++){const mySource=myRoom.mySources[j],source=Game.getObjectById(mySource.id);null==source?report_controller_1.ReportController.email("ERROR: Source was null when trying to get it by ID in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)):source.pos.inRangeTo(roomFlag.pos,1)&&(mySource.cache={pos:{x:roomFlag.pos.x,y:roomFlag.pos.y,roomName:myRoom.name},id:null},mySource.state="Cache",flagsPlaced++,placedFully=!0)}placedFully?(report_controller_1.ReportController.log("Placed container cache construction site in "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)),roomFlag.remove()):report_controller_1.ReportController.email("ERROR: Placed a construction site at a flag but couldn't find a source to give it to, in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}else report_controller_1.ReportController.email("ERROR: Placing a container cache construction site errored in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(null!=mySource.cache&&null==mySource.cache.id){const structures=helper_functions_1.HelperFunctions.myPosToRoomPos(mySource.cache.pos).lookFor(LOOK_STRUCTURES);for(let j=0;j<structures.length;j++)if(structures[j].structureType===STRUCTURE_CONTAINER){mySource.cache.id=structures[j].id;break}}}flagsPlaced!==myRoom.mySources.length&&0===room.find(FIND_CONSTRUCTION_SITES).length&&report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)+" needs cache container flag (cont)",report_cooldown_constants_1.ReportCooldownConstants.DAY)}static containerInPos(pos){const structures=pos.lookFor(LOOK_STRUCTURES);for(let j=0;j<structures.length;j++)if(structures[j].structureType===STRUCTURE_CONTAINER)return!0;return!1}}},
/*!***************************************!*\
  !*** ./ts-dist/room/stages/stage2.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.Stage2=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=3&&(myRoom.roomStage=2.3,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 2.3"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<3)&&(myRoom.roomStage=2,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 2"),!0)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage2_3.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage2_3=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TOWER)>=1&&(myRoom.roomStage=2.6,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 2.6"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TOWER)<1&&(myRoom.roomStage=2.3,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 2.3"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildTowers(myRoom,room,1)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage2_6.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage2_6=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=10&&(myRoom.roomStage=3,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 3"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<10&&(myRoom.roomStage=2.6,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 2.6"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,room,10)}}},
/*!***************************************!*\
  !*** ./ts-dist/room/stages/stage3.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.Stage3=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=4&&(myRoom.roomStage=3.3,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 3.3"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<4)&&(myRoom.roomStage=3,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 3"),!0)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage3_3.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage3_3=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=20&&(myRoom.roomStage=3.6,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 3.6"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<20&&(myRoom.roomStage=3.3,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 3.3"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,room,20)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage3_6.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.Stage3_6=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_STORAGE)>=1&&(myRoom.roomStage=4,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 4"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_STORAGE)<1&&(myRoom.roomStage=3.6,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 3.6"),!0)}static step(myRoom,room){const storage=room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_STORAGE});if(1===storage.length)return void(myRoom.bankPos={x:storage[0].pos.x,y:storage[0].pos.y,roomName:myRoom.name});const roomFlags=helper_functions_1.HelperFunctions.getRoomsFlags(myRoom);for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i];"storage"===roomFlag.name.split("-")[0]&&(Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_STORAGE)===OK?(report_controller_1.ReportController.log("Placed storage bank construction site in "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)),roomFlag.remove()):report_controller_1.ReportController.email("ERROR: Placing a storage bank construction site errored in "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)))}0===Game.rooms[myRoom.name].find(FIND_CONSTRUCTION_SITES).length&&helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_STORAGE)<1&&report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" needs a bank flag (storage)",report_cooldown_constants_1.ReportCooldownConstants.DAY)}}},
/*!***************************************!*\
  !*** ./ts-dist/room/stages/stage4.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.Stage4=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=5&&(myRoom.roomStage=4.2,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 4.2"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<5)&&(myRoom.roomStage=4,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 4"),!0)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage4_2.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage4_2=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TOWER)>=2&&(myRoom.roomStage=4.4,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 4.4"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TOWER)<2&&(myRoom.roomStage=4.2,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 4.2"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildTowers(myRoom,room,2)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage4_4.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage4_4=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=30&&(myRoom.roomStage=4.6,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 4.6"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<30&&(myRoom.roomStage=4.4,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 4.4"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,room,30)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage4_6.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.Stage4_6=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_LINK)>=2&&(myRoom.roomStage=4.8,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 4.8"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_LINK)<2&&(myRoom.roomStage=4.6,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 4.6"),!0)}static step(myRoom,room){const roomFlags=helper_functions_1.HelperFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--){const flagNameSplit=roomFlags[i].name.split("-");"link"===flagNameSplit[0]&&"bank"===flagNameSplit[1]||roomFlags.splice(i,1)}let placedBankLink=!1;for(let i=0;i<roomFlags.length;i++){const roomFlag=roomFlags[i];Game.rooms[myRoom.name].createConstructionSite(roomFlag.pos,STRUCTURE_LINK)===OK?(myRoom.bankLink={pos:helper_functions_1.HelperFunctions.roomPosToMyPos(roomFlag.pos),id:null},roomFlag.remove(),placedBankLink=!0,report_controller_1.ReportController.log("Placed a bank link construction site in "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name))):report_controller_1.ReportController.email("ERROR: Placing a bank link construction site errored in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}if(null!=myRoom.bankLink){const structures=helper_functions_1.HelperFunctions.myPosToRoomPos(myRoom.bankLink.pos).lookFor(LOOK_STRUCTURES);for(let j=0;j<structures.length;j++)if(structures[j].structureType===STRUCTURE_LINK){myRoom.bankLink.id=structures[j].id;break}}placedBankLink||0!==Game.rooms[myRoom.name].find(FIND_CONSTRUCTION_SITES).length||report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)+" needs bank link flag (link-bank-X)",report_cooldown_constants_1.ReportCooldownConstants.DAY),stage_functions_1.StageFunctions.setupSourceLink(myRoom)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage4_8.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.Stage4_8=class{static up(myRoom,room){this.step(myRoom,room);for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if("Link"===mySource.state&&null!=mySource.link&&null!=mySource.link.id&&null!=mySource.cache&&null==mySource.cache.id&&0===mySource.haulerNames.length)return myRoom.roomStage=5,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 5"),!0}return!1}static down(myRoom,room){let foundLinkedSource=!1;for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if("Link"===mySource.state&&null!=mySource.link&&null!=mySource.link.id&&null!=mySource.cache&&null==mySource.cache.id&&0===mySource.haulerNames.length){foundLinkedSource=!0;break}}return!foundLinkedSource&&(myRoom.roomStage=4.8,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 4.8"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.clearHaulersAndCaches(myRoom)}}},
/*!***************************************!*\
  !*** ./ts-dist/room/stages/stage5.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.Stage5=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=6&&(myRoom.roomStage=5.2,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 5.2"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<6)&&(myRoom.roomStage=5,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 5"),!0)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage5_2.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage5_2=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_LINK)>myRoom.mySources.length&&(myRoom.roomStage=5.4,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 5.4"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_LINK)<=myRoom.mySources.length&&(myRoom.roomStage=5.2,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 5.2"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.setupSourceLink(myRoom),stage_functions_1.StageFunctions.clearHaulersAndCaches(myRoom)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage5_4.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage5_4=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=40&&(myRoom.roomStage=5.6,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 5.6"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<40&&(myRoom.roomStage=5.4,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 5.4"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,room,40)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage5_6.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.Stage5_6=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTRACTOR)>=1&&(myRoom.roomStage=5.8,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 5.8"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTRACTOR)<1&&(myRoom.roomStage=5.6,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 5.6"),!0)}static step(myRoom,room){let placedExtractor=!1;const minerals=room.find(FIND_MINERALS);1===minerals.length&&minerals[0].pos.createConstructionSite(STRUCTURE_EXTRACTOR)===OK&&(placedExtractor=!0),placedExtractor||0!==room.find(FIND_CONSTRUCTION_SITES).length||report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)+" couldn't place an extractor",report_cooldown_constants_1.ReportCooldownConstants.DAY)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage5_8.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.Stage5_8=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TERMINAL)>=1&&(myRoom.roomStage=6,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 6"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TERMINAL)<1&&(myRoom.roomStage=5.8,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 5.8"),!0)}static step(myRoom,room){const roomFlags=helper_functions_1.HelperFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--)"terminal"!==roomFlags[i].name.split("-")[0]&&roomFlags.splice(i,1);let placedTerminal=!1;1===roomFlags.length&&roomFlags[0].pos.createConstructionSite(STRUCTURE_TERMINAL)===OK&&(placedTerminal=!0,roomFlags[0].remove()),placedTerminal||0!==room.find(FIND_CONSTRUCTION_SITES).length||report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)+" needs a terminal flag (terminal)",report_cooldown_constants_1.ReportCooldownConstants.DAY)}}},
/*!***************************************!*\
  !*** ./ts-dist/room/stages/stage6.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.Stage6=class{static up(myRoom,room){return null!=room.controller&&room.controller.level>=7&&(myRoom.roomStage=6.25,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 6.25"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<7)&&(myRoom.roomStage=0,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 6"),!0)}}},
/*!******************************************!*\
  !*** ./ts-dist/room/stages/stage6_25.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage6_25=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TOWER)>=3&&(myRoom.roomStage=6.5,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 6.5"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TOWER)<3&&(myRoom.roomStage=6.25,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 6.25"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildTowers(myRoom,room,3)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage6_5.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage6_5=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)>=50&&(myRoom.roomStage=6.75,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 6.75"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<50&&(myRoom.roomStage=6.5,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 6.5"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,room,50)}}},
/*!******************************************!*\
  !*** ./ts-dist/room/stages/stage6_75.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),stage_functions_1=__webpack_require__(/*! ./stage-functions */2);exports.Stage6_75=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_SPAWN)>=2&&(myRoom.roomStage=7,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 7"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_SPAWN)<2&&(myRoom.roomStage=6.75,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 6.75"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildSpawns(myRoom,room,2)}}},
/*!***************************************!*\
  !*** ./ts-dist/room/stages/stage7.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.Stage7=class{static up(myRoom,room){return null!=room.controller&&8===room.controller.level&&(myRoom.roomStage=7.2,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 7.2"),!0)}static down(myRoom,room){return(null==room.controller||room.controller.level<8)&&(myRoom.roomStage=7,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 7"),!0)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage7_2.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage7_2=class{static up(myRoom,room){return this.step(myRoom,room),6===helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TOWER)&&(myRoom.roomStage=7.4,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 7.4"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_TOWER)<6&&(myRoom.roomStage=7.2,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 7.2"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildTowers(myRoom,room,6)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage7_4.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),stage_functions_1=__webpack_require__(/*! ./stage-functions */2),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.Stage7_4=class{static up(myRoom,room){return this.step(myRoom,room),60===helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)&&(myRoom.roomStage=7.6,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 7.6"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_EXTENSION)<60&&(myRoom.roomStage=7.4,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 7.4"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildExtensions(myRoom,room,60)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage7_6.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),stage_functions_1=__webpack_require__(/*! ./stage-functions */2);exports.Stage7_6=class{static up(myRoom,room){return this.step(myRoom,room),helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_SPAWN)>=3&&(myRoom.roomStage=7.8,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 7.8"),!0)}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_SPAWN)<3&&(myRoom.roomStage=7.6,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 7.6"),!0)}static step(myRoom,room){stage_functions_1.StageFunctions.buildSpawns(myRoom,room,3)}}},
/*!*****************************************!*\
  !*** ./ts-dist/room/stages/stage7_8.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.Stage7_8=class{static up(myRoom,room){if(this.step(myRoom,room),1===helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_POWER_SPAWN)){if(null==myRoom.powerSpawnId){const powerSpawns=room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_TOWER});1===powerSpawns.length&&(myRoom.powerSpawnId=powerSpawns[0].id)}return myRoom.roomStage=8,report_controller_1.ReportController.email("STAGE+: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" increased to room stage 8"),!0}return!1}static down(myRoom,room){return helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_POWER_SPAWN)<1&&(myRoom.roomStage=7.8,report_controller_1.ReportController.email("STAGE-: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" decreased to room stage 7.8"),!0)}static step(myRoom,room){const roomFlags=helper_functions_1.HelperFunctions.getRoomsFlags(myRoom);for(let i=roomFlags.length-1;i>=0;i--)"power-spawn"!==roomFlags[i].name&&roomFlags.splice(i,1);let placedPowerSpawn=!1;1===roomFlags.length&&roomFlags[0].pos.createConstructionSite(STRUCTURE_POWER_SPAWN)===OK&&(placedPowerSpawn=!0,roomFlags[0].remove()),!placedPowerSpawn&&0===room.find(FIND_CONSTRUCTION_SITES).length&&helper_functions_1.HelperFunctions.amountOfStructure(room,STRUCTURE_POWER_SPAWN)<1&&report_controller_1.ReportController.email("ATTENTION: Room "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)+" needs a power spawn flag (power-spawn)",report_cooldown_constants_1.ReportCooldownConstants.DAY)}}},
/*!***************************************!*\
  !*** ./ts-dist/room/roles/laborer.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),constants_1=__webpack_require__(/*! ../../global/constants */4);exports.RoleLaborer=class{static run(laborer,myRoom,laborersStock){if(helper_functions_1.HelperFunctions.handleCreepPreRole(laborer))return;const creep=Game.creeps[laborer.name];this.calculateCreepState(laborer,myRoom,creep),"Labor"===laborer.state?this.labor(laborer,myRoom,creep,laborersStock):"PickupBank"===laborer.state?this.pickupBank(laborer,myRoom,creep):"PickupCache"===laborer.state?this.pickupCache(laborer,myRoom,creep):this.mining(laborer,myRoom,creep)}static calculateCreepState(laborer,myRoom,creep){if("Labor"===laborer.state&&0===creep.store.energy){const bank=myRoom.bank;if(null!=bank&&bank.store[RESOURCE_ENERGY]>=creep.store.getCapacity())return laborer.state="PickupBank",void creep.say("PickupBank");if(myRoom.roomStage>=1){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(null!=mySource.cache&&null!=mySource.cache.id){const cache=Game.getObjectById(mySource.cache.id);if(null==cache)mySource.cache.id=null,report_controller_1.ReportController.email("ERROR: Source cache returned null with get by ID in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));else if(cache.store[RESOURCE_ENERGY]>=creep.store.getCapacity())return laborer.state="PickupCache",void creep.say("PickupCache")}}return laborer.state="Mining",void creep.say("Mining")}return laborer.state="Mining",void creep.say("Mining")}"Labor"!==laborer.state&&creep.store.energy===creep.store.getCapacity()&&(laborer.state="Labor",creep.say("work work"))}static pickupBank(laborer,myRoom,creep){if(null==myRoom.bankPos)return void report_controller_1.ReportController.email("ERROR: Room's bank pos was null in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));const bankPos=helper_functions_1.HelperFunctions.myPosToRoomPos(myRoom.bankPos);if(bankPos.isNearTo(creep)){const bank=myRoom.bank;if(null==bank)return void report_controller_1.ReportController.email("ERROR: Room's bank was null in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));creep.withdraw(bank,RESOURCE_ENERGY)}else helper_functions_1.HelperFunctions.myMoveTo(creep,bankPos,laborer)}static pickupCache(laborer,myRoom,creep){const validCacheToGrabFrom=creep.pos.findClosestByPath(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_CONTAINER&&structure.store[RESOURCE_ENERGY]>=creep.store.getCapacity()});null==validCacheToGrabFrom?(laborer.state="Mining",creep.say("Mining")):validCacheToGrabFrom.pos.isNearTo(creep)?creep.withdraw(validCacheToGrabFrom,RESOURCE_ENERGY):helper_functions_1.HelperFunctions.myMoveTo(creep,validCacheToGrabFrom.pos,laborer)}static mining(laborer,myRoom,creep){const source=creep.pos.findClosestByPath(FIND_SOURCES_ACTIVE);null!=source&&creep.harvest(source)===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,source.pos,laborer)}static labor(laborer,myRoom,creep,laborersStock){let givenCommand=!1,forceUpgradeController=!1;if(null!=creep.room.controller&&creep.room.controller.ticksToDowngrade<constants_1.Constants.LABORERS_UPGRADE_WHEN_CONTROLLER_BENEATH&&(forceUpgradeController=!0,givenCommand=!0),laborersStock&&!givenCommand){const structureToAddTo=creep.pos.findClosestByPath(FIND_STRUCTURES,{filter:structure=>(structure.structureType===STRUCTURE_EXTENSION||structure.structureType===STRUCTURE_SPAWN||myRoom.roomStage<4&&structure.structureType===STRUCTURE_TOWER)&&structure.energy<structure.energyCapacity});null!=structureToAddTo&&(givenCommand=!0,creep.transfer(structureToAddTo,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,structureToAddTo.pos,laborer))}if(!givenCommand){const closestConstructionSite=creep.pos.findClosestByPath(FIND_CONSTRUCTION_SITES);null!=closestConstructionSite&&(givenCommand=!0,creep.build(closestConstructionSite)===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,closestConstructionSite.pos,laborer))}!forceUpgradeController&&givenCommand||creep.upgradeController(creep.room.controller)===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,creep.room.controller.pos,laborer)}}},
/*!******************************************************!*\
  !*** ./ts-dist/room/spawns/room-spawn-controller.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const spawn_laborer_1=__webpack_require__(/*! ./spawn-laborer */50),spawn_hauler_1=__webpack_require__(/*! ./spawn-hauler */51),spawn_stocker_1=__webpack_require__(/*! ./spawn-stocker */67),spawn_miner_1=__webpack_require__(/*! ./spawn-miner */52),spawn_claimer_controller_1=__webpack_require__(/*! ../../empire/spawn-claimer-controller */8),spawn_bank_linker_1=__webpack_require__(/*! ./spawn-bank-linker */53),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.RoomSpawnController=class{static run(myRoom,room){if(Game.time%10&&(spawn_laborer_1.SpawnLaborer.laborerSpawnLogic(myRoom,room),spawn_hauler_1.SpawnHauler.spawnHaulerLogic(myRoom),spawn_stocker_1.SpawnStocker.spawnStocker(myRoom),spawn_miner_1.SpawnMiner.minerSpawnLogic(myRoom),spawn_bank_linker_1.SpawnBankLinker.spawnBankLinker(myRoom)),0===myRoom.spawnQueue.length)return;const creepToSpawn=myRoom.spawnQueue[0],body=this.getBody(creepToSpawn,myRoom),energyCost=helper_functions_1.HelperFunctions.bodyCost(body);if(room.energyAvailable<energyCost)return;let spawn=null;for(let i=0;i<myRoom.spawns.length&&null!=(spawn=Game.spawns[myRoom.spawns[i].name]).spawning;i++)spawn=null;null!=spawn&&spawn.spawnCreep(body,creepToSpawn.name)===OK&&myRoom.spawnQueue.splice(0,1)}static getBody(queuedCreep,myRoom){if("ForceLaborer"===queuedCreep.role)return spawn_laborer_1.SpawnLaborer.getForceBody(myRoom);if("Stocker"===queuedCreep.role)return spawn_stocker_1.SpawnStocker.getBody(myRoom);if("Claimer"===queuedCreep.role)return spawn_claimer_controller_1.SpawnClaimerController.getBody();if("Miner"===queuedCreep.role)for(let k=0;k<myRoom.mySources.length;k++){const mySource=myRoom.mySources[k];if(mySource.minerName===queuedCreep.name)return spawn_miner_1.SpawnMiner.getBody(myRoom,mySource)}else{if("Hauler"===queuedCreep.role)return spawn_hauler_1.SpawnHauler.getBody(myRoom);if("BankLinker"===queuedCreep.role)return spawn_bank_linker_1.SpawnBankLinker.getBody();if("Laborer"===queuedCreep.role)return spawn_laborer_1.SpawnLaborer.getBody(myRoom);if("Signer"===queuedCreep.role)return[MOVE]}return report_controller_1.ReportController.email("ERROR: Creep role doesn't have a getBody function "+queuedCreep.role),[]}}},
/*!**********************************************!*\
  !*** ./ts-dist/room/spawns/spawn-laborer.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),constants_1=__webpack_require__(/*! ../../global/constants */4),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),spawn_queue_controller_1=__webpack_require__(/*! ../../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../../global/spawn-constants */6);class SpawnLaborer{static laborerSpawnLogic(myRoom,room){let laborerCount=0;for(let i=0;i<myRoom.myCreeps.length;i++)"Laborer"===myRoom.myCreeps[i].role&&laborerCount++;let forceSpawnlaborers=0;if(laborerCount<constants_1.Constants.MIN_LABORERS?forceSpawnlaborers=constants_1.Constants.MIN_LABORERS-laborerCount:laborerCount<constants_1.Constants.LABORERS_BEFORE_BANK&&myRoom.roomStage<4&&(forceSpawnlaborers=constants_1.Constants.LABORERS_BEFORE_BANK-laborerCount),forceSpawnlaborers>0&&8===myRoom.roomStage&&0===room.find(FIND_CONSTRUCTION_SITES).length&&room.controller.ticksToDowngrade>constants_1.Constants.STAGE_8_SPAWN_LABORERS_WHEN_CONTROLLER_BENEATH&&(forceSpawnlaborers=0),forceSpawnlaborers>0)SpawnLaborer.forceSpawnLaborers(myRoom,forceSpawnlaborers);else{let maxLaborers=constants_1.Constants.MAX_LABORERS;8===myRoom.roomStage&&0===room.find(FIND_CONSTRUCTION_SITES).length&&(maxLaborers=constants_1.Constants.MAX_LABORERS_STAGE_8),myRoom.pendingConscriptedCreep||SpawnLaborer.trySpawnLaborer(myRoom,laborerCount,maxLaborers)}}static getBody(myRoom){return helper_functions_1.HelperFunctions.generateBody([MOVE,MOVE,CARRY,WORK],[MOVE,MOVE,CARRY,WORK],Game.rooms[myRoom.name],!0)}static getForceBody(myRoom){return helper_functions_1.HelperFunctions.generateBody([MOVE,MOVE,CARRY,WORK],[MOVE,MOVE,CARRY,WORK],Game.rooms[myRoom.name],!1)}static trySpawnLaborer(myRoom,laborerCount,maxLaborers){if(null==myRoom.bankPos)return;const bank=myRoom.bank;if(null!=bank){if(bank.store[RESOURCE_ENERGY]>=constants_1.Constants.AMOUNT_OF_BANK_ENERGY_TO_SPAWN_LABORER&&laborerCount<maxLaborers){const newCreep=this.spawnLaborer(myRoom,!1);myRoom.myCreeps.push(newCreep),report_controller_1.ReportController.log("Queued a new Laborer in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}}else report_controller_1.ReportController.email("ERROR: Bank is null when checking if it's full in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}static forceSpawnLaborers(myRoom,amount){for(let i=0;i<amount;i++){const newCreep=this.spawnLaborer(myRoom,!0);myRoom.myCreeps.push(newCreep),report_controller_1.ReportController.log("Force queued a new Laborer in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}}static spawnLaborer(myRoom,forceSpawn){let spawn,roomToSpawnFrom;if(0===myRoom.spawns.length||null==Game.spawns[myRoom.spawns[0].name]){if(null==(spawn=helper_functions_1.HelperFunctions.findClosestSpawn(new RoomPosition(25,25,myRoom.name))))throw report_controller_1.ReportController.email("ERROR: Couldn't find any spawns to make a laborer for "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)),Error("Couldn't find any spawns to make a laborer for room "+myRoom.name);roomToSpawnFrom=helper_functions_1.HelperFunctions.getMyRoomByName(spawn.room.name)}else roomToSpawnFrom=myRoom;const name="Creep"+helper_functions_1.HelperFunctions.getId(),priority=forceSpawn?spawn_constants_1.SpawnConstants.FORCE_LABORER:spawn_constants_1.SpawnConstants.LABORER,roleInQueue=forceSpawn?"ForceLaborer":"Laborer";return spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(roomToSpawnFrom,priority,name,roleInQueue),{name:name,role:"Laborer",assignedRoomName:myRoom.name,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]},state:"Labor"}}}exports.SpawnLaborer=SpawnLaborer},
/*!*********************************************!*\
  !*** ./ts-dist/room/spawns/spawn-hauler.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),constants_1=__webpack_require__(/*! ../../global/constants */4),spawn_queue_controller_1=__webpack_require__(/*! ../../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../../global/spawn-constants */6),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.SpawnHauler=class{static spawnHaulerLogic(myRoom){if(!(myRoom.roomStage<4))for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];if(null==mySource.cache||null==mySource.cache.id)return;const myCache=Game.getObjectById(mySource.cache.id);if("Cache"===mySource.state&&mySource.haulerNames.length<constants_1.Constants.MAX_HAULERS_PER_SOURCE&&0===mySource.haulerCooldown&&null!=myCache&&myCache.store.energy>=myCache.store.getCapacity()*constants_1.Constants.PERCENT_OF_CACHE_ENERGY_TO_SPAWN_HAULER){const newCreep=this.spawnHaulerInternal(myRoom,mySource);myRoom.myCreeps.push(newCreep),mySource.haulerNames.push(newCreep.name),report_controller_1.ReportController.log("Queued a new hauler in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));const haulerCooldown=Math.round(50+Game.spawns[myRoom.spawns[0].name].pos.getRangeTo(myCache.pos)*constants_1.Constants.HAULER_COOLDOWN_DISTANCE_FACTOR);mySource.haulerCooldown=haulerCooldown}}}static getBody(myRoom){return helper_functions_1.HelperFunctions.generateBody([MOVE,CARRY],[MOVE,CARRY],Game.rooms[myRoom.name],!0,20)}static spawnHaulerInternal(myRoom,mySource){const name="Creep"+helper_functions_1.HelperFunctions.getId();return spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(myRoom,spawn_constants_1.SpawnConstants.HAULER,name,"Hauler"),{name:name,role:"Hauler",assignedRoomName:myRoom.name,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]},cachePosToPickupFrom:mySource.cache.pos,pickup:!0}}}},
/*!********************************************!*\
  !*** ./ts-dist/room/spawns/spawn-miner.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),spawn_queue_controller_1=__webpack_require__(/*! ../../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../../global/spawn-constants */6),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.SpawnMiner=class{static minerSpawnLogic(myRoom){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];null==mySource.minerName&&this.spawnMiner(myRoom,mySource)}}static spawnMiner(myRoom,mySource){if(!(myRoom.roomStage<2)&&null==mySource.minerName){const newCreep=this.spawnMinerInternal(myRoom,mySource);return myRoom.myCreeps.push(newCreep),void report_controller_1.ReportController.log("Queued a new Miner in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}}static getBody(myRoom,mySource){let body,maxBodyParts;return maxBodyParts=1===myRoom.mySources.length?null==mySource.link?12:14:null==mySource.link?18:42,body=null!=mySource.link&&null!=mySource.link.id?helper_functions_1.HelperFunctions.generateBody([MOVE,CARRY,WORK,WORK,WORK,WORK,WORK],[MOVE,CARRY,WORK,WORK,WORK,WORK,WORK],Game.rooms[myRoom.name],!1,maxBodyParts):helper_functions_1.HelperFunctions.generateBody([MOVE,WORK,WORK,WORK,WORK,WORK],[MOVE,WORK,WORK,WORK,WORK,WORK],Game.rooms[myRoom.name],!1,maxBodyParts)}static spawnMinerInternal(myRoom,mySource){const name="Creep"+helper_functions_1.HelperFunctions.getId();spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(myRoom,spawn_constants_1.SpawnConstants.MINER,name,"Miner");let linkId=null;return null!=mySource.link&&null!=mySource.link.id&&(linkId=mySource.link.id),mySource.minerName=name,{name:name,role:"Miner",assignedRoomName:myRoom.name,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]},cachePosToMineOn:mySource.cache.pos,linkIdToDepositTo:linkId,sourceId:mySource.id,amountOfWork:0}}}},
/*!**************************************************!*\
  !*** ./ts-dist/room/spawns/spawn-bank-linker.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const spawn_queue_controller_1=__webpack_require__(/*! ../../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../../global/spawn-constants */6),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.SpawnBankLinker=class{static spawnBankLinker(myRoom){if(myRoom.roomStage<5)return;if(null!=myRoom.bankLinkerName)return;const bankLinker=this.spawnBankLinkerInternal(myRoom);myRoom.myCreeps.push(bankLinker),myRoom.bankLinkerName=bankLinker.name,report_controller_1.ReportController.log("Queued a BankLinker in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}static getBody(){return[MOVE,CARRY]}static spawnBankLinkerInternal(myRoom){const name="Creep"+helper_functions_1.HelperFunctions.getId();return spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(myRoom,spawn_constants_1.SpawnConstants.BANK_LINKER,name,"BankLinker"),{name:name,role:"BankLinker",assignedRoomName:myRoom.name,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]}}}}},
/*!*******************************************!*\
  !*** ./ts-dist/room/roles/bank-linker.js ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.RoleBankLinker=class{static run(bankLinker,myRoom){if(helper_functions_1.HelperFunctions.handleCreepPreRole(bankLinker))return;const creep=Game.creeps[bankLinker.name];if(0===creep.store.getFreeCapacity()){const bank=myRoom.bank;if(null==bank)return void report_controller_1.ReportController.email("ERROR: Bank was null for a bank linker in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));creep.transfer(bank,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,bank.pos,bankLinker)}else{if(null==myRoom.bankLink||null==myRoom.bankLink.id)return void report_controller_1.ReportController.email("ERROR: Bank Link was null for a bank linker in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));const link=Game.getObjectById(myRoom.bankLink.id);if(null==link)return void report_controller_1.ReportController.email("ERROR: Bank Link was null for a bank linker in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));link.store.energy>0&&creep.withdraw(link,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,link.pos,bankLinker)}}}},
/*!************************************************!*\
  !*** ./ts-dist/room/structures/source-link.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const constants_1=__webpack_require__(/*! ../../global/constants */4),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.RoomSourceLinkController=class{static run(myRoom,myLink){if(null===myLink.id)return;if(null==myRoom.bankLink||null==myRoom.bankLink.id)return;const link=Game.getObjectById(myLink.id);if(null===link)return report_controller_1.ReportController.email("ERROR: Link was null when accessed by ID. Setting it to null in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)),void(myLink.id=null);if(link.store.energy>=constants_1.Constants.SOURCE_LINK_TRANSFER_AT){const bankLink=Game.getObjectById(myRoom.bankLink.id);if(null===bankLink)return report_controller_1.ReportController.email("ERROR: Bank link was null when accessed by ID. Setting it to null in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)),void(myRoom.bankLink.id=null);link.transferEnergy(bankLink)}}}},
/*!*********************************************!*\
  !*** ./ts-dist/memory/memory-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../reporting/report-controller */1);exports.MemoryController=class{static run(){this.clearDeadCreeps(),this.ensureAllRoomsInMyMemory(),this.validateRoomsInMyMemory(),this.cleanUpEmpireCreeps(),this.getBanks(),this.reduceCooldowns(),this.cleanupReportMap()}static clearBanks(){for(let i=0;i<Memory.myMemory.myRooms.length;i++)Memory.myMemory.myRooms[i].bank=null}static clearDeadCreeps(){for(const i in Memory.creeps)Game.creeps[i]||delete Memory.creeps[i]}static ensureAllRoomsInMyMemory(){for(const roomName in Game.rooms){const room=Game.rooms[roomName];let myRoom=null;if(null!=room.controller&&!0===room.controller.my){for(let i=0;i<Memory.myMemory.myRooms.length;i++){const myExistingRoom=Memory.myMemory.myRooms[i];null!=myExistingRoom&&myExistingRoom.name===roomName&&(myRoom=myExistingRoom)}if(null==myRoom){report_controller_1.ReportController.log("Adding a new room to memory "+helper_functions_1.HelperFunctions.roomNameAsLink(roomName));const newMyRoom={name:roomName,myCreeps:[],spawns:[],powerSpawnId:null,mySources:[],roomStage:-1,bankPos:null,bankLinkerName:null,bankLink:null,bank:null,pendingConscriptedCreep:!1,spawnQueue:[]},sources=room.find(FIND_SOURCES);for(let i=0;i<sources.length;i++){const source=sources[i];newMyRoom.mySources.push({id:source.id,state:"NoCache",minerName:null,haulerNames:[],haulerCooldown:0,cache:null,link:null})}const spawns=room.find(FIND_MY_SPAWNS);for(let i=0;i<spawns.length;i++){const spawn=spawns[i];newMyRoom.spawns.push({name:spawn.name})}Memory.myMemory.myRooms.push(newMyRoom)}else{const spawns=room.find(FIND_MY_SPAWNS);if(spawns.length!==myRoom.spawns.length){myRoom.spawns=[];for(let i=0;i<spawns.length;i++){const spawn=spawns[i];myRoom.spawns.push({name:spawn.name})}}}}}}static validateRoomsInMyMemory(){for(let i=Memory.myMemory.myRooms.length-1;i>=0;i--){const myRoom=Memory.myMemory.myRooms[i],room=Game.rooms[myRoom.name];if(null!=room&&null!=room.controller&&!1!==room.controller.my)for(let j=myRoom.myCreeps.length-1;j>=0;j--){const myCreep=myRoom.myCreeps[j];null==Game.creeps[myCreep.name]&&"queued"!==myCreep.spawningStatus&&(this.handleCreepDying(myRoom,myCreep),myRoom.myCreeps.splice(j,1))}else report_controller_1.ReportController.log("Removing room from memory"+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)),Memory.myMemory.myRooms.splice(i,1)}}static handleCreepDying(myRoom,myCreep){if("Miner"===myCreep.role){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];mySource.minerName===myCreep.name&&(mySource.minerName=null)}report_controller_1.ReportController.log("A Miner has died in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}else if("Hauler"===myCreep.role){for(let i=0;i<myRoom.mySources.length;i++){const mySource=myRoom.mySources[i];for(let j=mySource.haulerNames.length-1;j>=0;j--)mySource.haulerNames[j]===myCreep.name&&mySource.haulerNames.splice(j,1)}report_controller_1.ReportController.log("A Hauler has died in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}else"Laborer"===myCreep.role?report_controller_1.ReportController.log("A Laborer has died in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)):"Claimer"===myCreep.role?report_controller_1.ReportController.log("A Claimer has died in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)):"BankLinker"===myCreep.role?(myRoom.bankLinkerName=null,report_controller_1.ReportController.log("A BankLinker has died in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))):"Stocker"===myCreep.role?report_controller_1.ReportController.log("A Stocker has died in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)):report_controller_1.ReportController.email("ERROR: A Creep with a weird role has died: "+myCreep.role+" in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}static cleanUpEmpireCreeps(){for(let i=Memory.myMemory.empire.creeps.length-1;i>=0;i--){const myCreep=Memory.myMemory.empire.creeps[i];null==Game.creeps[myCreep.name]&&Memory.myMemory.empire.creeps.splice(i,1)}}static getBanks(){for(let i=0;i<Memory.myMemory.myRooms.length;i++){const myRoom=Memory.myMemory.myRooms[i];if(null!=myRoom.bankPos){const structures=helper_functions_1.HelperFunctions.myPosToRoomPos(myRoom.bankPos).lookFor(LOOK_STRUCTURES);for(let j=0;j<structures.length;j++)if(structures[j].structureType===STRUCTURE_STORAGE){myRoom.bank=structures[j];break}}}}static reduceCooldowns(){for(let i=0;i<Memory.myMemory.myRooms.length;i++){const myRoom=Memory.myMemory.myRooms[i];for(let j=0;j<myRoom.mySources.length;j++){const mySource=myRoom.mySources[j];mySource.haulerCooldown>0&&mySource.haulerCooldown--}}}static cleanupReportMap(){if(Game.time%100!=0)return;const myMemory=Memory.myMemory,reports=Object.keys(myMemory.reports),now=(new Date).getTime();for(let i=0;i<reports.length;i++)Memory.myMemory.reports[reports[i]]<now&&(console.log("Deleting report: "+reports[i]),delete Memory.myMemory.reports[reports[i]])}}},
/*!*********************************************!*\
  !*** ./ts-dist/empire/empire-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const claimer_1=__webpack_require__(/*! ./role/claimer */58),spawn_claimer_controller_1=__webpack_require__(/*! ./spawn-claimer-controller */8),attack_controller_1=__webpack_require__(/*! ./attack/attack-controller */59),build_observer_controller_1=__webpack_require__(/*! ./observer/build-observer-controller */62),observer_controller_1=__webpack_require__(/*! ./observer/observer-controller */63),power_scav_controller_1=__webpack_require__(/*! ./power-scav-controller */11),power_scav_haul_creep_1=__webpack_require__(/*! ./role/power-scav-haul-creep */65),sign_controller_1=__webpack_require__(/*! ./sign/sign-controller */69);exports.EmpireController=class{static run(myMemory){spawn_claimer_controller_1.SpawnClaimerController.run(myMemory),attack_controller_1.AttackController.run(myMemory),build_observer_controller_1.BuildObserverController.run(myMemory),observer_controller_1.ObserverController.run(myMemory),sign_controller_1.SignController.run(myMemory),power_scav_controller_1.PowerScavController.run(myMemory);for(let i=0;i<myMemory.empire.creeps.length;i++){const creep=myMemory.empire.creeps[i];"Claimer"===creep.role?claimer_1.RoleClaimer.run(creep):"PowerScavHaulCreep"===creep.role?power_scav_haul_creep_1.RolePowerScavHaulCreep.run(creep):"Signer"===creep.role&&sign_controller_1.SignController.runCreep(creep)}}}},
/*!****************************************!*\
  !*** ./ts-dist/empire/role/claimer.js ***!
  \****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.RoleClaimer=class{static run(claimer){const creep=Game.creeps[claimer.name];if(!helper_functions_1.HelperFunctions.handleCreepPreRole(claimer))return null==Game.flags[claimer.flagName]?(creep.say("dthb4dshnr"),void creep.suicide()):void(null!=creep.room.controller?creep.claimController(creep.room.controller)===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,creep.room.controller.pos,claimer):report_controller_1.ReportController.email("ERROR: Claimer can't claim a room with no controller in "+helper_functions_1.HelperFunctions.roomNameAsLink(creep.room.name)))}}},
/*!****************************************************!*\
  !*** ./ts-dist/empire/attack/attack-controller.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const attack_quick_controller_1=__webpack_require__(/*! ./attack-quick-controller */60),attack_pressure_controller_1=__webpack_require__(/*! ./attack-pressure-controller */61);exports.AttackController=class{static run(myMemory){const attackQuick=myMemory.empire.attackQuick;if(null==attackQuick){const flag=Game.flags["attack-quick-rally"];null!=flag&&(myMemory.empire.attackQuick=attack_quick_controller_1.AttackQuickController.setupAttackQuick(myMemory.myRooms,flag))}null!=attackQuick&&attack_quick_controller_1.AttackQuickController.run(myMemory,attackQuick);const attackPressure=myMemory.empire.attackPressure;if(null==attackPressure){const flag=Game.flags["attack-pressure-rally"];null!=flag&&(myMemory.empire.attackPressure=attack_pressure_controller_1.AttackPressureController.setupAttackPressure(myMemory.myRooms,flag))}null!=attackPressure&&attack_pressure_controller_1.AttackPressureController.run(myMemory,attackPressure)}}},
/*!**********************************************************!*\
  !*** ./ts-dist/empire/attack/attack-quick-controller.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),constants_1=__webpack_require__(/*! ../../global/constants */4),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),attack_helper_functions_1=__webpack_require__(/*! ./attack-helper-functions */9),attack_creep_1=__webpack_require__(/*! ../role/attack-creep */10),schedule_controller_1=__webpack_require__(/*! ../../schedule/schedule-controller */7),spawn_queue_controller_1=__webpack_require__(/*! ../../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../../global/spawn-constants */6);exports.AttackQuickController=class{static run(myMemory,attackQuick){let flag=null;if("Conscripting"===attackQuick.state){if(null==(flag=Game.flags["attack-quick-rally"]))return report_controller_1.ReportController.email("ERROR: attack-quick-rally flag doesn't exist during AttackQuick. Cancelling the attack."),void this.endAttack();for(let i=attackQuick.roomsStillToProvide.length-1;i>=0;i--){const myRoom=helper_functions_1.HelperFunctions.getMyRoomByName(attackQuick.roomsStillToProvide[i]),attackQuickCreep=this.spawnAttackQuickCreep(myRoom);report_controller_1.ReportController.log(helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" has been conscripted "+attackQuickCreep.name+" for AttackQuick"),schedule_controller_1.ScheduleController.scheduleForNextTick("SET_FALSE_ON_PENDING_CONSCRIPTED_CREEP",myRoom.name),myMemory.empire.creeps.push(attackQuickCreep),attackQuick.roomsStillToProvide.splice(i,1)}if(0===attackQuick.roomsStillToProvide.length)return void(attackQuick.state="Rally")}if("Rally"===attackQuick.state){if(null==(flag=Game.flags["attack-quick-rally"]))return report_controller_1.ReportController.email("ERROR: attack-quick-rally flag doesn't exist during AttackQuick. Cancelling the attack."),void this.endAttack();let allCreepsAtFlag=!0;for(let i=0;i<myMemory.empire.creeps.length;i++){const myCreep=myMemory.empire.creeps[i];if("AttackQuickCreep"===myCreep.role&&!Game.creeps[myCreep.name].pos.inRangeTo(flag.pos,constants_1.Constants.RALLY_FLAG_RANGE)){allCreepsAtFlag=!1;break}}allCreepsAtFlag&&(report_controller_1.ReportController.log("AttackQuick Charge"),attackQuick.state="Charge")}if("Charge"===attackQuick.state){if(null==(flag=Game.flags["attack-quick-room-target"]))return report_controller_1.ReportController.email("ERROR: attack-quick-room-target flag doesn't exist during AttackQuick. Cancelling the attack."),void this.endAttack();0===myMemory.empire.creeps.length&&(report_controller_1.ReportController.log("ATTACK: Creeps are all dead, ending attack"),this.endAttack()),attackQuick.attackTarget=attack_helper_functions_1.AttackHelperFunctions.getNewTargetIfNeeded(attackQuick.attackTarget,flag)}for(let i=0;i<myMemory.empire.creeps.length;i++){const attackQuickCreep=myMemory.empire.creeps[i];"AttackQuickCreep"===attackQuickCreep.role&&attack_creep_1.RoleAttackCreep.run(attackQuickCreep,attackQuick.state,flag,attackQuick.attackTarget)}null!=attackQuick.attackTarget&&delete attackQuick.attackTarget.roomObject}static setupAttackQuick(myRooms,rallyFlag){const attackQuick={state:"Conscripting",roomsStillToProvide:[],attackTarget:null};let outputMessage="";for(let i=0;i<myRooms.length;i++){const myRoom=myRooms[i];myRoom.roomStage>=constants_1.Constants.CONSCRIPTION_QUICK_MINIMUM_STAGE&&helper_functions_1.HelperFunctions.getRoomDistance(rallyFlag.pos.roomName,myRoom.name)<constants_1.Constants.CONSCRIPTION_RANGE&&(myRoom.pendingConscriptedCreep=!0,attackQuick.roomsStillToProvide.push(myRoom.name),outputMessage+=myRoom.name+", ")}return 0===attackQuick.roomsStillToProvide.length?(report_controller_1.ReportController.log("Canceling an AttackQuick because no rooms were in conscription range."),this.endAttack(),null):(outputMessage=outputMessage.slice(0,outputMessage.length-2),report_controller_1.ReportController.log("AttackQuick: "+attackQuick.roomsStillToProvide.length+" Rooms conscripted for AttackQuick ("+outputMessage+")"),attackQuick)}static getBody(myRoom){const room=Game.rooms[myRoom.name];return helper_functions_1.HelperFunctions.generateBody([MOVE,ATTACK],[MOVE,ATTACK],room,!0,50,!0)}static spawnAttackQuickCreep(myRoom){const name="Creep"+helper_functions_1.HelperFunctions.getId();return spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(myRoom,spawn_constants_1.SpawnConstants.ATTACK_QUICK,name,"AttackQuickCreep"),{name:name,role:"AttackQuickCreep",spawningStatus:"queued",assignedRoomName:"",roomMoveTarget:{pos:null,path:[]}}}static endAttack(){const empire=Memory.myMemory.empire;empire.attackQuick=null;for(let i=empire.creeps.length-1;i>=0;i--)"AttackQuickCreep"===empire.creeps[i].role&&(report_controller_1.ReportController.log("Killing AttackQuickCreep "+empire.creeps[i].name),Game.creeps[empire.creeps[i].name].suicide());attack_helper_functions_1.AttackHelperFunctions.endAttack()}}},
/*!*************************************************************!*\
  !*** ./ts-dist/empire/attack/attack-pressure-controller.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const constants_1=__webpack_require__(/*! ../../global/constants */4),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),attack_helper_functions_1=__webpack_require__(/*! ./attack-helper-functions */9),attack_creep_1=__webpack_require__(/*! ../role/attack-creep */10),schedule_controller_1=__webpack_require__(/*! ../../schedule/schedule-controller */7),spawn_queue_controller_1=__webpack_require__(/*! ../../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../../global/spawn-constants */6);exports.AttackPressureController=class{static run(myMemory,attackPressure){let updatedTarget=!1;const attackPressureCreeps=[];for(let i=0;i<myMemory.empire.creeps.length;i++){const creep=myMemory.empire.creeps[i];"AttackPressureCreep"===creep.role&&attackPressureCreeps.push(creep)}for(let i=attackPressure.batches.length-1;i>=0;i--){let flag=null;const batch=attackPressure.batches[i];if("Conscripting"===batch.state){if(null==(flag=Game.flags["attack-pressure-rally"]))return report_controller_1.ReportController.email("ERROR: attack-pressure-rally flag doesn't exist during AttackPressure. Cancelling the attack."),void this.endAttack();this.batchRunConscript(batch,myMemory.empire)}if("Rally"===batch.state){if(null==(flag=Game.flags["attack-pressure-rally"]))return report_controller_1.ReportController.email("ERROR: attack-pressure-rally flag doesn't exist during AttackPressure. Cancelling the attack."),void this.endAttack();this.batchRunRally(batch,flag,myMemory.empire)&&this.startBatch(attackPressure)}if("Charge"===batch.state){if(null==(flag=Game.flags["attack-pressure-room-target"]))return report_controller_1.ReportController.email("ERROR: attack-pressure-room-target flag doesn't exist during AttackPressure. Cancelling the attack."),void this.endAttack();updatedTarget||(updatedTarget=!0,attackPressure.attackTarget=attack_helper_functions_1.AttackHelperFunctions.getNewTargetIfNeeded(attackPressure.attackTarget,flag))}for(let j=0;j<attackPressureCreeps.length;j++)attackPressureCreeps[j].batchNumber===batch.batchNumber&&attack_creep_1.RoleAttackCreep.run(attackPressureCreeps[j],batch.state,flag,attackPressure.attackTarget)}null!=attackPressure.attackTarget&&delete attackPressure.attackTarget.roomObject}static setupAttackPressure(myRooms,rallyFlag){const attackPressure={batchesStarted:0,batches:[],roomsInRange:[],attackTarget:null};let outputMessage="";for(let i=0;i<myRooms.length;i++){const myRoom=myRooms[i];myRoom.roomStage>=constants_1.Constants.CONSCRIPTION_PRESSURE_MINIMUM_STAGE&&helper_functions_1.HelperFunctions.getRoomDistance(rallyFlag.pos.roomName,myRoom.name)<constants_1.Constants.CONSCRIPTION_RANGE&&(attackPressure.roomsInRange.push(myRoom.name),outputMessage+=myRoom.name+", ")}return 0===attackPressure.roomsInRange.length?(report_controller_1.ReportController.log("Canceling an AttackPressure because no rooms were in conscription range."),this.endAttack(),null):(outputMessage=outputMessage.slice(0,outputMessage.length-2),report_controller_1.ReportController.log("AttackPressure: "+attackPressure.roomsInRange.length+" Rooms conscripted for AttackPressure ("+outputMessage+")"),this.startBatch(attackPressure),attackPressure)}static getBody(myRoom){const room=Game.rooms[myRoom.name];return helper_functions_1.HelperFunctions.generateBody([MOVE,ATTACK],[MOVE,ATTACK],room,!0,50,!0)}static batchRunRally(batch,flag,empire){let allCreepsAtFlag=!0;for(let i=0;i<empire.creeps.length;i++){const myCreep=empire.creeps[i];if("AttackPressureCreep"===myCreep.role&&!Game.creeps[myCreep.name].pos.inRangeTo(flag.pos,constants_1.Constants.RALLY_FLAG_RANGE)){allCreepsAtFlag=!1;break}}return!!allCreepsAtFlag&&(report_controller_1.ReportController.log("AttackPressure Charge"),batch.state="Charge",!0)}static batchRunConscript(batch,empire){for(let i=batch.roomsStillToProvide.length-1;i>=0;i--){const myRoom=helper_functions_1.HelperFunctions.getMyRoomByName(batch.roomsStillToProvide[i]),attackPressureCreep=this.spawnAttackPressureCreep(myRoom,batch.batchNumber);report_controller_1.ReportController.log(helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name)+" has been conscripted "+attackPressureCreep.name+" for AttackPressure"),schedule_controller_1.ScheduleController.scheduleForNextTick("SET_FALSE_ON_PENDING_CONSCRIPTED_CREEP",myRoom.name),empire.creeps.push(attackPressureCreep),batch.roomsStillToProvide.splice(i,1)}0!==batch.roomsStillToProvide.length||(batch.state="Rally")}static spawnAttackPressureCreep(myRoom,batchNumber){const name="Creep"+helper_functions_1.HelperFunctions.getId();return spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(myRoom,spawn_constants_1.SpawnConstants.ATTACK_PRESSURE,name,"AttackPressureCreep"),{name:name,role:"AttackPressureCreep",spawningStatus:"queued",assignedRoomName:"",roomMoveTarget:{pos:null,path:[]},batchNumber:batchNumber}}static startBatch(attackPressure){attackPressure.batches.push({state:"Conscripting",batchNumber:attackPressure.batchesStarted,roomsStillToProvide:attackPressure.roomsInRange});for(let i=0;i<attackPressure.roomsInRange.length;i++)helper_functions_1.HelperFunctions.getMyRoomByName(attackPressure.roomsInRange[i]).pendingConscriptedCreep=!0;report_controller_1.ReportController.log("Conscripting for batch "+attackPressure.batchesStarted),attackPressure.batchesStarted++}static endAttack(){const empire=Memory.myMemory.empire;empire.attackPressure=null;for(let i=empire.creeps.length-1;i>=0;i--)"AttackPressureCreep"===empire.creeps[i].role&&(report_controller_1.ReportController.log("Killing AttackPressureCreep "+empire.creeps[i].name),Game.creeps[empire.creeps[i].name].suicide());attack_helper_functions_1.AttackHelperFunctions.endAttack()}}},
/*!**************************************************************!*\
  !*** ./ts-dist/empire/observer/build-observer-controller.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.BuildObserverController=class{static run(myMemory){if(Game.time%10!=0)return;this.makeSureAllInMemory(myMemory);const flag=Game.flags.observer;if(null==flag)return;const result=flag.pos.createConstructionSite(STRUCTURE_OBSERVER);result===OK?flag.remove():report_controller_1.ReportController.email("ERROR: Failed to place observer: "+result)}static makeSureAllInMemory(myMemory){let amountOfObservers=0;for(let i=0;i<myMemory.myRooms.length;i++)amountOfObservers+=helper_functions_1.HelperFunctions.amountOfStructure(Game.rooms[myMemory.myRooms[i].name],STRUCTURE_OBSERVER);if(amountOfObservers!==myMemory.empire.observer.observerIds.length){myMemory.empire.observer.observerIds=[];for(let i=0;i<myMemory.myRooms.length;i++){const observers=Game.rooms[myMemory.myRooms[i].name].find(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_OBSERVER});for(let j=0;j<observers.length;j++)myMemory.empire.observer.observerIds.push(observers[j].id)}}}}},
/*!********************************************************!*\
  !*** ./ts-dist/empire/observer/observer-controller.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),power_scav_controller_1=__webpack_require__(/*! ../power-scav-controller */11),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1),report_cooldown_constants_1=__webpack_require__(/*! ../../global/report-cooldown-constants */5);exports.ObserverController=class{static run(myMemory){const observerMemory=myMemory.empire.observer;this.generateTargetsIfNeeded(observerMemory),0!==observerMemory.observerIds.length&&0!==observerMemory.targetList.length&&this.observeLogic(myMemory)}static observe(room,myMemory){const empireMemory=myMemory.empire;let avoid=!1;if(null==room.controller||!1!==room.controller.my||null==room.controller.owner||helper_functions_1.HelperFunctions.isAllyUsername(room.controller.owner.username)?helper_functions_1.HelperFunctions.isMiddle3x3(room.name)&&(avoid=!0):room.controller.level>=3?avoid=!0:report_controller_1.ReportController.email("Scrubs in your local area want to get wrecked "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name),report_cooldown_constants_1.ReportCooldownConstants.DAY),avoid)empireMemory.avoidRooms.includes(room.name)||(report_controller_1.ReportController.email("Added "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)+" to avoid list",report_cooldown_constants_1.ReportCooldownConstants.DAY),empireMemory.avoidRooms.push(room.name));else if(empireMemory.avoidRooms.includes(room.name)&&(report_controller_1.ReportController.email("Removing "+helper_functions_1.HelperFunctions.roomNameAsLink(room.name)+" from avoid list",report_cooldown_constants_1.ReportCooldownConstants.DAY),empireMemory.avoidRooms.splice(empireMemory.avoidRooms.indexOf(room.name),1)),helper_functions_1.HelperFunctions.isHighway(room.name)){const powerBanks=room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_POWER_BANK});1===powerBanks.length&&power_scav_controller_1.PowerScavController.observedPowerBank(powerBanks[0])}}static observeLogic(myMemory){const observerMemory=myMemory.empire.observer;if(null!=observerMemory.currentTargetIndex)if("Moving"===observerMemory.state){observerMemory.currentTargetIndex++,observerMemory.currentTargetIndex===observerMemory.targetList.length&&(observerMemory.currentTargetIndex=0);const newTargetRoomName=observerMemory.targetList[observerMemory.currentTargetIndex];for(let i=0;i<observerMemory.observerIds.length;i++){const observer=Game.getObjectById(observerMemory.observerIds[i]);if(null==observer)observerMemory.observerIds.splice(i,1);else if(observer.observeRoom(newTargetRoomName)===OK)break}observerMemory.state="Observing"}else{const room=Game.rooms[observerMemory.targetList[observerMemory.currentTargetIndex]];null==room?report_controller_1.ReportController.email("ERROR: Room from observer was null"):this.observe(room,myMemory),observerMemory.state="Moving"}}static generateTargetsIfNeeded(observerMemory){if(Game.time%10!=0)return;const flagNames=Object.keys(Game.flags);for(let i=flagNames.length-1;i>=0;i--){const flagNameSplit=flagNames[i].split("-");"observer"===flagNameSplit[0]&&"set"===flagNameSplit[1]||flagNames.splice(i,1)}if(1!==flagNames.length)return;const flag=Game.flags[flagNames[0]],size=Number(flag.name.split("-")[2]),topLeftRoomName=helper_functions_1.HelperFunctions.getRoomNameAsInterface(flag.pos.roomName);observerMemory.targetList=[];for(let x=topLeftRoomName.xNum;x<topLeftRoomName.xNum+size;x++)for(let y=topLeftRoomName.yNum;y<topLeftRoomName.yNum+size;y++)observerMemory.targetList.push(topLeftRoomName.xChar+x+topLeftRoomName.yChar+y);flag.remove(),observerMemory.currentTargetIndex=0}}},
/*!********************************************************!*\
  !*** ./ts-dist/empire/role/power-scav-attack-creep.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.RolePowerScavAttackCreep=class{static run(powerScavAttack,myPowerBank,powerBank){if(helper_functions_1.HelperFunctions.handleCreepPreRole(powerScavAttack))return;const creep=Game.creeps[powerScavAttack.name];if(null==powerBank)return Game.time<myPowerBank.eol-1?(myPowerBank.state="dead",Game.notify("Power bank destroyed at "+Game.time)):Game.notify("Power bank EOL died at "+Game.time),creep.say("dthb4dshnr"),void creep.suicide();creep.pos.isNearTo(powerBank)?Game.time%2==0?creep.attack(powerBank):creep.heal(creep):helper_functions_1.HelperFunctions.myMoveTo(creep,powerBank.pos,powerScavAttack)}}},
/*!******************************************************!*\
  !*** ./ts-dist/empire/role/power-scav-haul-creep.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.RolePowerScavHaulCreep=class{static run(powerScavHaul){if(helper_functions_1.HelperFunctions.handleCreepPreRole(powerScavHaul))return;const creep=Game.creeps[powerScavHaul.name];"grabbing"===powerScavHaul.state?this.grabbing(creep,powerScavHaul):this.depositing(creep,powerScavHaul)}static grabbing(creep,powerScavHaul){const powerBanks=creep.room.find(FIND_STRUCTURES,{filter:structure=>structure.structureType===STRUCTURE_POWER_BANK});if(1===powerBanks.length)creep.pos.getRangeTo(powerBanks[0])>3&&helper_functions_1.HelperFunctions.myMoveTo(creep,powerBanks[0].pos,powerScavHaul);else if(creep.store.getFreeCapacity()>0){const resources=creep.room.find(FIND_DROPPED_RESOURCES);0===resources.length?(Game.notify("No resources for a power scav hauler to pickup "+Game.time),creep.say("dthb4dshnr"),creep.suicide()):creep.pickup(resources[0])===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,resources[0].pos,powerScavHaul)}else creep.say("depositing"),powerScavHaul.state="depositing",powerScavHaul.assignedRoomName=powerScavHaul.roomToDepositTo}static depositing(creep,powerScavHaul){0===creep.store.getUsedCapacity()&&(creep.say("dthb4dshnr"),creep.suicide());const myRoom=helper_functions_1.HelperFunctions.getMyRoomByName(powerScavHaul.roomToDepositTo);if(null==myRoom)return void report_controller_1.ReportController.email("ERROR: Room was null for a power scav hauler "+helper_functions_1.HelperFunctions.roomNameAsLink(powerScavHaul.roomToDepositTo));const bank=myRoom.bank;null!=bank?creep.transfer(bank,RESOURCE_POWER)===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,bank.pos,powerScavHaul):report_controller_1.ReportController.email("ERROR: Bank was null for a power scav hauler in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}}},
/*!*************************!*\
  !*** ./ts-dist/main.js ***!
  \*************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const room_controller_1=__webpack_require__(/*! ./room/room-controller */12),memory_controller_1=__webpack_require__(/*! ./memory/memory-controller */56),empire_controller_1=__webpack_require__(/*! ./empire/empire-controller */57),schedule_controller_1=__webpack_require__(/*! ./schedule/schedule-controller */7),profiler_wrapper_1=__webpack_require__(/*! ./profiler/profiler-wrapper */70),function_profiler_1=__webpack_require__(/*! ./profiler/function-profiler/function-profiler */72);console.log("Script reloaded"),profiler_wrapper_1.ProfilerWrapper.clearProfilingData(),function_profiler_1.FunctionProfiler.clearProfilingData(),null==Memory.myMemory&&(Memory.myMemory={globalId:0,myRooms:[],reports:{},empire:{attackQuick:null,attackPressure:null,creeps:[],avoidRooms:[],powerScav:{targetBanks:[]},observer:{state:"Moving",observerIds:[],currentTargetIndex:null,targetList:[]}},scheduledCommands:[]}),exports.loop=function(){const myMemory=Memory.myMemory;memory_controller_1.MemoryController.run(),schedule_controller_1.ScheduleController.preLoop(myMemory),empire_controller_1.EmpireController.run(myMemory);for(let i=0;i<myMemory.myRooms.length;i++)room_controller_1.RoomController.run(myMemory.myRooms[i]);memory_controller_1.MemoryController.clearBanks(),profiler_wrapper_1.ProfilerWrapper.detectProfileReport(),function_profiler_1.FunctionProfiler.detectProfileReport()}},
/*!**********************************************!*\
  !*** ./ts-dist/room/spawns/spawn-stocker.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const constants_1=__webpack_require__(/*! ../../global/constants */4),helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),spawn_queue_controller_1=__webpack_require__(/*! ../../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../../global/spawn-constants */6),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.SpawnStocker=class{static spawnStocker(myRoom){if(myRoom.roomStage<4)return;if(myRoom.bank.store.energy<1250)return;let amountOfStockers=0;for(let i=0;i<myRoom.myCreeps.length;i++)"Stocker"===myRoom.myCreeps[i].role&&amountOfStockers++;if(amountOfStockers<constants_1.Constants.MAX_STOCKERS)for(let i=0;i<constants_1.Constants.MAX_STOCKERS-amountOfStockers;i++){const newCreep=this.spawnStockerInternal(myRoom);myRoom.myCreeps.push(newCreep),report_controller_1.ReportController.log("Queued a new Stocker in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name))}}static getBody(myRoom){return helper_functions_1.HelperFunctions.generateBody([MOVE,CARRY],[MOVE,CARRY],Game.rooms[myRoom.name],!1)}static spawnStockerInternal(myRoom){const name="Creep"+helper_functions_1.HelperFunctions.getId();return spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(myRoom,spawn_constants_1.SpawnConstants.STOCKER,name,"Stocker"),{name:name,role:"Stocker",assignedRoomName:myRoom.name,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]},state:"Pickup"}}}},
/*!***************************************!*\
  !*** ./ts-dist/room/roles/stocker.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);exports.RoleStocker=class{static run(stocker,myRoom){if(helper_functions_1.HelperFunctions.handleCreepPreRole(stocker))return;const creep=Game.creeps[stocker.name];this.calculateCreepState(stocker,myRoom,creep),"Pickup"===stocker.state?this.pickup(stocker,myRoom,creep):this.distribute(stocker,creep)}static calculateCreepState(stocker,myRoom,creep){"Distribute"===stocker.state&&0===creep.store.energy?(stocker.state="Pickup",creep.say("pickup")):0===creep.store.getFreeCapacity()&&(stocker.state="Distribute",creep.say("work work"))}static pickup(stocker,myRoom,creep){if(null==myRoom.bankPos)return void report_controller_1.ReportController.email("ERROR: Room's bank pos was null in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));const bankPos=helper_functions_1.HelperFunctions.myPosToRoomPos(myRoom.bankPos);if(bankPos.isNearTo(creep)){const bank=myRoom.bank;if(null==bank)return void report_controller_1.ReportController.email("ERROR: Room's bank was null in "+helper_functions_1.HelperFunctions.roomNameAsLink(myRoom.name));bank.store.energy>0&&creep.withdraw(bank,RESOURCE_ENERGY)}else helper_functions_1.HelperFunctions.myMoveTo(creep,bankPos,stocker)}static distribute(stocker,creep){const structureToAddTo=creep.pos.findClosestByPath(FIND_STRUCTURES,{filter:structure=>(structure.structureType===STRUCTURE_EXTENSION||structure.structureType===STRUCTURE_SPAWN||structure.structureType===STRUCTURE_TOWER)&&structure.energy<structure.energyCapacity});null!=structureToAddTo&&creep.transfer(structureToAddTo,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&helper_functions_1.HelperFunctions.myMoveTo(creep,structureToAddTo.pos,stocker)}}},
/*!************************************************!*\
  !*** ./ts-dist/empire/sign/sign-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0),spawn_queue_controller_1=__webpack_require__(/*! ../../global/spawn-queue-controller */3),spawn_constants_1=__webpack_require__(/*! ../../global/spawn-constants */6),report_controller_1=__webpack_require__(/*! ../../reporting/report-controller */1);class SignController{static run(myMemory){if(Game.time%100!=0)return;const flag=Game.flags.sign;if(null!=flag)return void this.sign(flag,myMemory);const flagAll=Game.flags["sign-all"];null!=flagAll&&this.signAll(flagAll,myMemory)}static runCreep(signer){const creep=Game.creeps[signer.name];if(helper_functions_1.HelperFunctions.handleCreepPreRole(signer))return;if(null==creep.room.controller)return void report_controller_1.ReportController.email("ERROR: Signer can't sign a room with no controller in "+helper_functions_1.HelperFunctions.roomNameAsLink(creep.room.name));const signResult=creep.signController(creep.room.controller,signer.signWords);signResult===ERR_NOT_IN_RANGE?helper_functions_1.HelperFunctions.myMoveTo(creep,creep.room.controller.pos,signer):signResult===OK&&(report_controller_1.ReportController.log("Successfully signed "+helper_functions_1.HelperFunctions.roomNameAsLink(signer.assignedRoomName)),creep.say("dthb4dshnr"),creep.suicide())}static signAll(flag,myMemory){for(let i=0;i<myMemory.myRooms.length;i++){const myRoom=myMemory.myRooms[i],name="Creep"+helper_functions_1.HelperFunctions.getId();spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(myRoom,spawn_constants_1.SpawnConstants.SIGNER,name,"Signer"),myMemory.empire.creeps.push({name:name,role:"Signer",assignedRoomName:myRoom.name,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]},signWords:this.message})}report_controller_1.ReportController.log("Queued a Signer for all rooms"),flag.remove()}static sign(flag,myMemory){let closestDistance=999,closestRoom=null;for(let i=0;i<myMemory.myRooms.length;i++){const myRoom=myMemory.myRooms[i],roomDistance=helper_functions_1.HelperFunctions.getRoomDistance(flag.pos.roomName,myRoom.name);roomDistance<closestDistance&&(closestRoom=myRoom,closestDistance=roomDistance)}if(null==closestRoom)return;const name="Creep"+helper_functions_1.HelperFunctions.getId();spawn_queue_controller_1.SpawnQueueController.queueCreepSpawn(closestRoom,spawn_constants_1.SpawnConstants.SIGNER,name,"Signer"),myMemory.empire.creeps.push({name:name,role:"Signer",assignedRoomName:flag.pos.roomName,spawningStatus:"queued",roomMoveTarget:{pos:null,path:[]},signWords:this.message}),report_controller_1.ReportController.log("Queued a Signer for room "+helper_functions_1.HelperFunctions.roomNameAsLink(flag.pos.roomName)),flag.remove()}}SignController.message="Just a cute lil coder (✿◠‿◠)",exports.SignController=SignController},
/*!**********************************************!*\
  !*** ./ts-dist/profiler/profiler-wrapper.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const profiler_1=__webpack_require__(/*! ./profiler */71),laborer_1=__webpack_require__(/*! ../room/roles/laborer */48),attack_creep_1=__webpack_require__(/*! ../empire/role/attack-creep */10),claimer_1=__webpack_require__(/*! ../empire/role/claimer */58),empire_controller_1=__webpack_require__(/*! ../empire/empire-controller */57),attack_controller_1=__webpack_require__(/*! ../empire/attack/attack-controller */59),attack_helper_functions_1=__webpack_require__(/*! ../empire/attack/attack-helper-functions */9),attack_pressure_controller_1=__webpack_require__(/*! ../empire/attack/attack-pressure-controller */61),attack_quick_controller_1=__webpack_require__(/*! ../empire/attack/attack-quick-controller */60),spawn_claimer_controller_1=__webpack_require__(/*! ../empire/spawn-claimer-controller */8),helper_functions_1=__webpack_require__(/*! ../global/helper-functions */0),report_controller_1=__webpack_require__(/*! ../reporting/report-controller */1),bank_linker_1=__webpack_require__(/*! ../room/roles/bank-linker */54),hauler_1=__webpack_require__(/*! ../room/roles/hauler */15),miner_1=__webpack_require__(/*! ../room/roles/miner */14),room_spawn_controller_1=__webpack_require__(/*! ../room/spawns/room-spawn-controller */49),spawn_bank_linker_1=__webpack_require__(/*! ../room/spawns/spawn-bank-linker */53),spawn_hauler_1=__webpack_require__(/*! ../room/spawns/spawn-hauler */51),spawn_laborer_1=__webpack_require__(/*! ../room/spawns/spawn-laborer */50),spawn_miner_1=__webpack_require__(/*! ../room/spawns/spawn-miner */52),stage0_1=__webpack_require__(/*! ../room/stages/stage0 */18),stage0_5_1=__webpack_require__(/*! ../room/stages/stage0_5 */19),stage1_1=__webpack_require__(/*! ../room/stages/stage1 */20),stage1_3_1=__webpack_require__(/*! ../room/stages/stage1_3 */21),stage1_6_1=__webpack_require__(/*! ../room/stages/stage1_6 */22),stage2_1=__webpack_require__(/*! ../room/stages/stage2 */23),stage2_3_1=__webpack_require__(/*! ../room/stages/stage2_3 */24),stage2_6_1=__webpack_require__(/*! ../room/stages/stage2_6 */25),stage3_1=__webpack_require__(/*! ../room/stages/stage3 */26),stage3_3_1=__webpack_require__(/*! ../room/stages/stage3_3 */27),stage3_6_1=__webpack_require__(/*! ../room/stages/stage3_6 */28),stage4_1=__webpack_require__(/*! ../room/stages/stage4 */29),stage4_2_1=__webpack_require__(/*! ../room/stages/stage4_2 */30),stage4_4_1=__webpack_require__(/*! ../room/stages/stage4_4 */31),stage4_6_1=__webpack_require__(/*! ../room/stages/stage4_6 */32),stage4_8_1=__webpack_require__(/*! ../room/stages/stage4_8 */33),stage5_1=__webpack_require__(/*! ../room/stages/stage5 */34),stage5_2_1=__webpack_require__(/*! ../room/stages/stage5_2 */35),stage5_4_1=__webpack_require__(/*! ../room/stages/stage5_4 */36),stage5_6_1=__webpack_require__(/*! ../room/stages/stage5_6 */37),stage5_8_1=__webpack_require__(/*! ../room/stages/stage5_8 */38),stage_default_1=__webpack_require__(/*! ../room/stages/stage-default */17),stage_functions_1=__webpack_require__(/*! ../room/stages/stage-functions */2),source_link_1=__webpack_require__(/*! ../room/structures/source-link */55),tower_1=__webpack_require__(/*! ../room/structures/tower */13),room_controller_1=__webpack_require__(/*! ../room/room-controller */12),room_stage_controller_1=__webpack_require__(/*! ../room/room-stage-controller */16),schedule_controller_1=__webpack_require__(/*! ../schedule/schedule-controller */7),stage6_75_1=__webpack_require__(/*! ../room/stages/stage6_75 */42),stage7_6_1=__webpack_require__(/*! ../room/stages/stage7_6 */46),stage7_8_1=__webpack_require__(/*! ../room/stages/stage7_8 */47),stage7_2_1=__webpack_require__(/*! ../room/stages/stage7_2 */44),stage6_1=__webpack_require__(/*! ../room/stages/stage6 */39),stage6_5_1=__webpack_require__(/*! ../room/stages/stage6_5 */41),stage7_4_1=__webpack_require__(/*! ../room/stages/stage7_4 */45),stage6_25_1=__webpack_require__(/*! ../room/stages/stage6_25 */40),stage7_1=__webpack_require__(/*! ../room/stages/stage7 */43),build_observer_controller_1=__webpack_require__(/*! ../empire/observer/build-observer-controller */62),power_scav_controller_1=__webpack_require__(/*! ../empire/power-scav-controller */11),observer_controller_1=__webpack_require__(/*! ../empire/observer/observer-controller */63),memory_controller_1=__webpack_require__(/*! ../memory/memory-controller */56),power_scav_attack_creep_1=__webpack_require__(/*! ../empire/role/power-scav-attack-creep */64),power_scav_haul_creep_1=__webpack_require__(/*! ../empire/role/power-scav-haul-creep */65),spawn_queue_controller_1=__webpack_require__(/*! ../global/spawn-queue-controller */3);exports.ProfilerWrapper=class{static setup(){profiler_1.Profiler.setup(attack_creep_1.RoleAttackCreep,"RoleAttackCreep"),profiler_1.Profiler.setup(claimer_1.RoleClaimer,"RoleClaimer"),profiler_1.Profiler.setup(attack_controller_1.AttackController,"AttackController"),profiler_1.Profiler.setup(attack_helper_functions_1.AttackHelperFunctions,"AttackHelperFunctions"),profiler_1.Profiler.setup(attack_pressure_controller_1.AttackPressureController,"AttackPressureController"),profiler_1.Profiler.setup(attack_quick_controller_1.AttackQuickController,"AttackQuickController"),profiler_1.Profiler.setup(empire_controller_1.EmpireController,"EmpireController"),profiler_1.Profiler.setup(spawn_claimer_controller_1.SpawnClaimerController,"SpawnClaimerController"),profiler_1.Profiler.setup(helper_functions_1.HelperFunctions,"HelperFunctions"),profiler_1.Profiler.setup(report_controller_1.ReportController,"ReportController"),profiler_1.Profiler.setup(bank_linker_1.RoleBankLinker,"RoleBankLinker"),profiler_1.Profiler.setup(hauler_1.RoleHauler,"RoleHauler"),profiler_1.Profiler.setup(laborer_1.RoleLaborer,"RoleLaborer"),profiler_1.Profiler.setup(miner_1.RoleMiner,"RoleMiner"),profiler_1.Profiler.setup(room_spawn_controller_1.RoomSpawnController,"RoomSpawnController"),profiler_1.Profiler.setup(spawn_bank_linker_1.SpawnBankLinker,"SpawnBankLinker"),profiler_1.Profiler.setup(spawn_hauler_1.SpawnHauler,"SpawnHauler"),profiler_1.Profiler.setup(spawn_laborer_1.SpawnLaborer,"SpawnLaborer"),profiler_1.Profiler.setup(spawn_miner_1.SpawnMiner,"SpawnMiner"),profiler_1.Profiler.setup(stage0_1.Stage0,"Stage0"),profiler_1.Profiler.setup(stage0_5_1.Stage0_5,"Stage0_5"),profiler_1.Profiler.setup(stage1_1.Stage1,"Stage1"),profiler_1.Profiler.setup(stage1_3_1.Stage1_3,"Stage1_3"),profiler_1.Profiler.setup(stage1_6_1.Stage1_6,"Stage1_6"),profiler_1.Profiler.setup(stage2_1.Stage2,"Stage2"),profiler_1.Profiler.setup(stage2_3_1.Stage2_3,"Stage2_3"),profiler_1.Profiler.setup(stage2_6_1.Stage2_6,"Stage2_6"),profiler_1.Profiler.setup(stage3_1.Stage3,"Stage3"),profiler_1.Profiler.setup(stage3_3_1.Stage3_3,"Stage3_3"),profiler_1.Profiler.setup(stage3_6_1.Stage3_6,"Stage3_6"),profiler_1.Profiler.setup(stage4_1.Stage4,"Stage4"),profiler_1.Profiler.setup(stage4_2_1.Stage4_2,"Stage4_2"),profiler_1.Profiler.setup(stage4_4_1.Stage4_4,"Stage4_4"),profiler_1.Profiler.setup(stage4_6_1.Stage4_6,"Stage4_6"),profiler_1.Profiler.setup(stage4_8_1.Stage4_8,"Stage4_8"),profiler_1.Profiler.setup(stage5_1.Stage5,"Stage5"),profiler_1.Profiler.setup(stage5_2_1.Stage5_2,"Stage5_2"),profiler_1.Profiler.setup(stage5_4_1.Stage5_4,"Stage5_4"),profiler_1.Profiler.setup(stage5_6_1.Stage5_6,"Stage5_6"),profiler_1.Profiler.setup(stage5_8_1.Stage5_8,"Stage5_8"),profiler_1.Profiler.setup(stage6_1.Stage6,"Stage6"),profiler_1.Profiler.setup(stage6_5_1.Stage6_5,"Stage6_5"),profiler_1.Profiler.setup(stage6_25_1.Stage6_25,"Stage6_25"),profiler_1.Profiler.setup(stage6_75_1.Stage6_75,"Stage6_75"),profiler_1.Profiler.setup(stage7_1.Stage7,"Stage7"),profiler_1.Profiler.setup(stage7_2_1.Stage7_2,"Stage7_2"),profiler_1.Profiler.setup(stage7_4_1.Stage7_4,"Stage7_4"),profiler_1.Profiler.setup(stage7_6_1.Stage7_6,"Stage7_6"),profiler_1.Profiler.setup(stage7_8_1.Stage7_8,"Stage7_8"),profiler_1.Profiler.setup(stage_default_1.StageDefault,"StageDefault"),profiler_1.Profiler.setup(stage_functions_1.StageFunctions,"StageFunctions"),profiler_1.Profiler.setup(source_link_1.RoomSourceLinkController,"RoomSourceLinkController"),profiler_1.Profiler.setup(tower_1.RoomTowerController,"RoomTowerController"),profiler_1.Profiler.setup(room_controller_1.RoomController,"RoomController"),profiler_1.Profiler.setup(room_stage_controller_1.RoomStageController,"RoomStageController"),profiler_1.Profiler.setup(schedule_controller_1.ScheduleController,"ScheduleController"),profiler_1.Profiler.setup(build_observer_controller_1.BuildObserverController,"BuildObserverController"),profiler_1.Profiler.setup(observer_controller_1.ObserverController,"ObserverController"),profiler_1.Profiler.setup(power_scav_attack_creep_1.RolePowerScavAttackCreep,"RolePowerScavAttackCreep"),profiler_1.Profiler.setup(power_scav_haul_creep_1.RolePowerScavHaulCreep,"RolePowerScavHaulCreep"),profiler_1.Profiler.setup(power_scav_controller_1.PowerScavController,"PowerScavController"),profiler_1.Profiler.setup(memory_controller_1.MemoryController,"MemoryController"),profiler_1.Profiler.setup(spawn_queue_controller_1.SpawnQueueController,"SpawnController")}static clearProfilingData(){Memory.profiler={startTick:Game.time}}static detectProfileReport(){if(Game.time%10!=0||null==Game.flags.profile)return;const profile=Memory.profiler;console.log("Profiling report:");const totalTicks=Game.time-profile.startTick+1;console.log("TotalTicks: "+totalTicks);const table=[];table[0]=["Name","AvgMsPerTick","AvgCallsPerTick","AvgMsPerCall","Calls"];const classes=Object.keys(profile);classes.splice(classes.indexOf("startTick"),1);const processedClasses=[];for(let i=0;i<classes.length;i++){const c=classes[i],processedClass=this.getProcessedClassData(profile[c],c,totalTicks);processedClasses.push(processedClass)}processedClasses.sort((a,b)=>b.avgMsUsagePerTick-a.avgMsUsagePerTick);let index=1;for(let i=0;i<SHOW_TOP_X_CLASSES;i++){const processedClass=processedClasses[i];table[index]=[processedClass.className,Number(processedClass.avgMsUsagePerTick.toFixed(FIXED_NUMBER)).toString(),"","",""],index++;for(let j=0;j<processedClass.functions.length;j++){const processedFunction=processedClass.functions[j];table[index]=["+ "+processedFunction.functionName,Number(processedFunction.avgMsUsagePerTick.toFixed(FIXED_NUMBER)).toString(),Number(processedFunction.callsPerTickAvg.toFixed(FIXED_NUMBER)).toString(),Number(processedFunction.avgTime.toFixed(FIXED_NUMBER)).toString(),processedFunction.callCount.toString()],index++}}console.log("Top "+SHOW_TOP_X_CLASSES+" classes, based on AvgMsPerTick"),helper_functions_1.HelperFunctions.logTable(table),Game.flags.profile.remove()}static getProcessedClassData(classData,className,totalTicks){const result={className:className,avgMsUsagePerTick:0,functions:[]},functions=Object.keys(classData);for(let i=0;i<functions.length;i++){const f=functions[i],functionProcessed={functionName:f,avgMsUsagePerTick:0,callsPerTickAvg:0,avgTime:classData[f].average,callCount:classData[f].callCount};functionProcessed.callsPerTickAvg=classData[f].callCount/totalTicks,functionProcessed.avgMsUsagePerTick=functionProcessed.avgTime*functionProcessed.callsPerTickAvg,result.functions.push(functionProcessed),result.avgMsUsagePerTick+=functionProcessed.avgMsUsagePerTick}return result.functions.sort((a,b)=>b.avgMsUsagePerTick-a.avgMsUsagePerTick),result}};const SHOW_TOP_X_CLASSES=5,FIXED_NUMBER=5},
/*!**************************************!*\
  !*** ./ts-dist/profiler/profiler.js ***!
  \**************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Profiler=class{static setup(thing,classString){const profiler=Memory.profiler;profiler[classString]={},Object.getOwnPropertyNames(thing).forEach(functionName=>{if(-1!==excludeList.indexOf(functionName))return;profiler[classString][functionName]={callCount:0,average:0};const originalFunction=thing[functionName];thing[functionName]=function(){const before=Game.cpu.getUsed();let result;0===arguments.length?result=originalFunction.call(thing):1===arguments.length?result=originalFunction.call(thing,arguments[0]):2===arguments.length?result=originalFunction.call(thing,arguments[0],arguments[1]):3===arguments.length?result=originalFunction.call(thing,arguments[0],arguments[1],arguments[2]):4===arguments.length?result=originalFunction.call(thing,arguments[0],arguments[1],arguments[2],arguments[3]):5===arguments.length?result=originalFunction.call(thing,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):6===arguments.length?result=originalFunction.call(thing,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):7===arguments.length?result=originalFunction.call(thing,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]):console.log("ERROR87: "+arguments.length);const after=Game.cpu.getUsed();return Memory.profiler[classString][functionName].average=(Memory.profiler[classString][functionName].average*Memory.profiler[classString][functionName].callCount+(after-before))/(Memory.profiler[classString][functionName].callCount+1),Memory.profiler[classString][functionName].callCount+=1,result}})}};const excludeList=["prototype","length","name"]},
/*!*****************************************************************!*\
  !*** ./ts-dist/profiler/function-profiler/function-profiler.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const helper_functions_1=__webpack_require__(/*! ../../global/helper-functions */0);exports.FunctionProfiler=class{static startFunction(functionName){null==Memory.functionProfiler[functionName]?Memory.functionProfiler[functionName]={callCount:1,average:0,before:Game.cpu.getUsed(),sections:{}}:Memory.functionProfiler[functionName].before=Game.cpu.getUsed()}static endFunction(functionName){Memory.functionProfiler[functionName].average=(Memory.functionProfiler[functionName].average*Memory.functionProfiler[functionName].callCount+(Game.cpu.getUsed()-Memory.functionProfiler[functionName].before))/(Memory.functionProfiler[functionName].callCount+1),Memory.functionProfiler[functionName].callCount++}static startFunctionSection(functionName,sectionName){null==Memory.functionProfiler[functionName].sections[sectionName]?Memory.functionProfiler[functionName].sections[sectionName]={callCount:1,average:0,before:Game.cpu.getUsed()}:Memory.functionProfiler[functionName].sections[sectionName].before=Game.cpu.getUsed()}static endFunctionSection(functionName,sectionName){Memory.functionProfiler[functionName].sections[sectionName].average=(Memory.functionProfiler[functionName].sections[sectionName].average*Memory.functionProfiler[functionName].sections[sectionName].callCount+(Game.cpu.getUsed()-Memory.functionProfiler[functionName].sections[sectionName].before))/(Memory.functionProfiler[functionName].sections[sectionName].callCount+1),Memory.functionProfiler[functionName].sections[sectionName].callCount++}static detectProfileReport(){if(Game.time%10!=0||null==Game.flags["profile-function"])return;const profile=Memory.functionProfiler;console.log("Function profiling report:");const totalTicks=Game.time-profile.startTick+1;console.log("TotalTicks: "+totalTicks);const table=[];table[0]=["Name","AvgMsPerTick","AvgCallsPerTick","AvgMsPerCall","Calls"];const functions=Object.keys(profile);functions.splice(functions.indexOf("startTick"),1);const processedFunctions=[];for(let i=0;i<functions.length;i++){const functionName=functions[i],processedFunction=this.getProcessedFunctionData(profile[functionName],functionName,totalTicks);processedFunctions.push(processedFunction)}processedFunctions.sort((a,b)=>b.avgMsUsagePerTick-a.avgMsUsagePerTick);let index=1;for(let i=0;i<SHOW_TOP_X_FUNCTIONS&&i<processedFunctions.length;i++){const processedFunction=processedFunctions[i];table[index]=[processedFunction.functionName,Number(processedFunction.avgMsUsagePerTick.toFixed(FIXED_NUMBER)).toString(),Number(processedFunction.callsPerTickAvg.toFixed(FIXED_NUMBER)).toString(),Number(processedFunction.avgTime.toFixed(FIXED_NUMBER)).toString(),processedFunction.callCount.toString()],index++;for(let j=0;j<processedFunction.sections.length;j++){const processedSection=processedFunction.sections[j];table[index]=[processedSection.sectionName,Number(processedSection.avgMsUsagePerTick.toFixed(FIXED_NUMBER)).toString(),Number(processedSection.callsPerTickAvg.toFixed(FIXED_NUMBER)).toString(),Number(processedSection.avgTime.toFixed(FIXED_NUMBER)).toString(),processedSection.callCount.toString()],index++}table[index]=["","","","",""],index++}console.log("Top "+SHOW_TOP_X_FUNCTIONS+" functions, based on AvgMsPerTick"),helper_functions_1.HelperFunctions.logTable(table),Game.flags["profile-function"].remove()}static getProcessedFunctionData(functionn,functionName,totalTicks){const result={functionName:functionName,avgMsUsagePerTick:0,callsPerTickAvg:0,avgTime:functionn.average,callCount:functionn.callCount,sections:[]};result.callsPerTickAvg=functionn.callCount/totalTicks,result.avgMsUsagePerTick=functionn.average*result.callsPerTickAvg;const sections=Object.keys(functionn.sections);for(let i=0;i<sections.length;i++){const sectionName=sections[i],sectionProcessed={sectionName:sectionName,avgMsUsagePerTick:0,callsPerTickAvg:0,avgTime:functionn.sections[sectionName].average,callCount:functionn.sections[sectionName].callCount};sectionProcessed.callsPerTickAvg=functionn.sections[sectionName].callCount/totalTicks,sectionProcessed.avgMsUsagePerTick=sectionProcessed.avgTime*sectionProcessed.callsPerTickAvg,result.sections.push(sectionProcessed)}return result.sections.sort((a,b)=>b.avgMsUsagePerTick-a.avgMsUsagePerTick),result}static clearProfilingData(){Memory.functionProfiler={startTick:Game.time}}};const SHOW_TOP_X_FUNCTIONS=5,FIXED_NUMBER=5}]);